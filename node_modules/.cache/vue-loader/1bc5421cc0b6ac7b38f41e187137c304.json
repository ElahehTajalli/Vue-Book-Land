{"remainingRequest":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/project/src/components/EditProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/project/src/components/EditProfile.vue","mtime":1628241066040},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBDcm9wcGVyIH0gZnJvbSAndnVlLWFkdmFuY2VkLWNyb3BwZXInCmltcG9ydCAndnVlLWFkdmFuY2VkLWNyb3BwZXIvZGlzdC9zdHlsZS5jc3MnCmltcG9ydCB7CiAgcGFzc3dvcmRMZW5ndGgsCiAgbGF0aW5QYXNzd29yZCwKICBwYXNzd29yZE51bWJlciwKICBwZXJzaWFuUGFzc3dvcmQsCiAgY29ycmVjdFBhc3N3b3JkCn0gZnJvbSAnQC91dGlscy9wYXR0ZXJucycKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBkaWFsb2dWaXNpYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2VsZjogewogICAgICB0eXBlb2Y6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBjaGVja1Bhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICB0aGlzLnJlc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIHRoaXMuc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgIWNvcnJlY3RQYXNzd29yZC50ZXN0KHZhbHVlKSB8fAogICAgICAgIHBlcnNpYW5QYXNzd29yZC50ZXN0KHZhbHVlKQogICAgICApIHsKICAgICAgICBpZiAocGFzc3dvcmRMZW5ndGgudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIHRoaXMucGFzc0xlbmd0aCA9IHRydWUKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcih0aGlzLiRpMThuLnQoJ3dyb25nX3Bhc3N3b3JkJykpKQogICAgICAgIH0KICAgICAgICBpZiAobGF0aW5QYXNzd29yZC50ZXN0KHZhbHVlKSkgewogICAgICAgICAgdGhpcy5sYXRpblBhc3MgPSB0cnVlCiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCd3cm9uZ19wYXNzd29yZCcpKSkKICAgICAgICB9CiAgICAgICAgaWYgKHBhc3N3b3JkTnVtYmVyLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICB0aGlzLnBhc3NOdW1iZXIgPSB0cnVlCiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCd3cm9uZ19wYXNzd29yZCcpKSkKICAgICAgICB9CiAgICAgICAgaWYgKCFwZXJzaWFuUGFzc3dvcmQudGVzdCh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLnBlcnNpYW5QYXNzID0gdHJ1ZQogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJGkxOG4udCgnd3JvbmdfcGFzc3dvcmQnKSkpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0KICAgIH0KICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBkaWFsb2dJbWFnZVVybDogJycsCiAgICAgIHNob3dJbWFnZTogZmFsc2UsCiAgICAgIGltYWdlRmlsZTogJycsCiAgICAgIGZpbGU6ICcnLAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGltYWdlRXJyb3I6ICcnLAogICAgICBzaXplRXJyb3I6ICcnLAogICAgICBpbWFnZUxpc3Q6IFtdLAogICAgICBzaG93Q3JvcHBlcjogJycsCiAgICAgIGRpYWxvZ1Nob3c6IGZhbHNlLAogICAgICBzaG93Q3JvcHBCdXR0b246IGZhbHNlLAogICAgICBwYXNzTGVuZ3RoOiBmYWxzZSwKICAgICAgbGF0aW5QYXNzOiBmYWxzZSwKICAgICAgcGFzc051bWJlcjogZmFsc2UsCiAgICAgIHBlcnNpYW5QYXNzOiBmYWxzZSwKICAgICAgaXNFbWFpbEV4aXN0czogZmFsc2UsCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIG9sZEltYWdlOiB0aGlzLnNlbGY/LmltYWdlLAogICAgICBlZGl0Rm9ybTogewogICAgICAgIGZpcnN0X25hbWU6IHRoaXMuc2VsZj8uZmlyc3RfbmFtZSwKICAgICAgICBsYXN0X25hbWU6IHRoaXMuc2VsZj8ubGFzdF9uYW1lLAogICAgICAgIHBlcnNpYW5fdXNlcm5hbWU6IHRoaXMuc2VsZj8ucGVyc2lhbl91c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgaW1hZ2U6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZmlyc3RfbmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kaTE4bi50KCdmaWVsZF9yZXF1aXJlZCcpLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIGxhc3RfbmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kaTE4bi50KCdmaWVsZF9yZXF1aXJlZCcpCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBwZXJzaWFuX3VzZXJuYW1lOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiRpMThuLnQoJ2ZpZWxkX3JlcXVpcmVkJykKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tQYXNzd29yZAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ2hhbmRsZVJlcXVlc3QnLCAnc2V0U2VsZiddKSwKICAgIHJlc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLnBhc3NMZW5ndGggPSBmYWxzZQogICAgICB0aGlzLmxhdGluUGFzcyA9IGZhbHNlCiAgICAgIHRoaXMucGFzc051bWJlciA9IGZhbHNlCiAgICAgIHRoaXMucGVyc2lhblBhc3MgPSBmYWxzZQogICAgfSwKICAgIHNldFBhc3N3b3JkVmFsaWRhdGlvbigpIHsKICAgICAgdGhpcy5wYXNzTGVuZ3RoID0gdHJ1ZQogICAgICB0aGlzLmxhdGluUGFzcyA9IHRydWUKICAgICAgdGhpcy5wYXNzTnVtYmVyID0gdHJ1ZQogICAgICB0aGlzLnBlcnNpYW5QYXNzID0gdHJ1ZQogICAgfSwKICAgIGVkaXRVc2VyKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmVkaXRGb3JtKSkgewogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmltYWdlRmlsZSkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCB0aGlzLmltYWdlRmlsZSkKICAgICAgfQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2VtYWlsJywgdGhpcy5zZWxmLmVtYWlsKQogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICd1c2Vycy9lZGl0JywKICAgICAgICBhY3Rpb246ICdwYXRjaCcsCiAgICAgICAgZGF0YTogeyB0b1BhdGNoOiBmb3JtRGF0YSB9CiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kaTE4bi50KCd5b3VyX3Byb2ZpbGVfd2FzX3N1Y2Nlc3NmdWxseV9lZGl0ZWQnKQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuc2V0U2VsZihyZXMuZGF0YSkKICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiRpMThuLnQoCiAgICAgICAgICAgICAgICAndXNlcl93aXRoX3RoaXNfcGVyc2lhbl91c2VybmFtZV9hbHJlYWR5X2V4aXN0cycKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJGkxOG4udCgKICAgICAgICAgICAgICAgICd5b3VyX3JlcXVlc3RfaGFzX2VuY291bnRlcmVkX2FfcHJvYmxlbV9wbGVhc2VfdHJ5X2FnYWluJwogICAgICAgICAgICAgICkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSwKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZS1kaWFsb2cnKQogICAgICB0aGlzLiRyZWZzWydlZGl0VXNlciddLnJlc2V0RmllbGRzKCkKICAgICAgdGhpcy5pbWFnZUxpc3QgPSBbXQogICAgICB0aGlzLmZpbGUgPSAnJwogICAgICB0aGlzLmltYWdlRmlsZSA9ICcnCiAgICAgIHRoaXMuc2hvd0ltYWdlID0gZmFsc2UKICAgICAgdGhpcy5vbGRJbWFnZSA9IHRoaXMuc2VsZi5pbWFnZQogICAgfSwKICAgIGhhbmRsZVJlbW92ZSgpIHsKICAgICAgdGhpcy5pbWFnZUxpc3QgPSBbXQogICAgICB0aGlzLmltYWdlRmlsZSA9ICcnCiAgICAgIHRoaXMuc2hvd0ltYWdlID0gZmFsc2UKICAgICAgdGhpcy5zaG93Q3JvcHBlciA9ICdibG9jaycKICAgIH0sCiAgICBoYW5kbGVEZWxldGVQaG90bygpIHsKICAgICAgdGhpcy5vbGRJbWFnZSA9ICcnCiAgICB9LAogICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgbGV0IGluZGV4ID0gZmlsZS5sZW5ndGggLSAxCiAgICAgIGNvbnN0IGlzSlBHID0KICAgICAgICBmaWxlW2luZGV4XS5yYXcudHlwZSA9PT0gJ2ltYWdlL3BuZycgfHwKICAgICAgICBmaWxlW2luZGV4XS5yYXcudHlwZSA9PT0gJ2ltYWdlL2pwZycgfHwKICAgICAgICBmaWxlW2luZGV4XS5yYXcudHlwZSA9PT0gJ2ltYWdlL2pwZWcnCiAgICAgIGNvbnN0IGlzTHQyTSA9IGZpbGVbaW5kZXhdLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEKICAgICAgaWYgKCFpc0pQRykgewogICAgICAgIHRoaXMuaW1hZ2VFcnJvciA9IHRoaXMuJGkxOG4udCgndW5zdXBwb3J0ZWRfaW1hZ2VfdHlwZScpCiAgICAgIH0KICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLnNpemVFcnJvciA9IHRoaXMuJGkxOG4udCgnZXh0cmFfc2l6ZScpCiAgICAgIH0KICAgICAgaWYgKGlzSlBHICYmIGlzTHQyTSkgewogICAgICAgIHRoaXMuc2l6ZUVycm9yID0gJycKICAgICAgICB0aGlzLmltYWdlRXJyb3IgPSAnJwogICAgICAgIHRoaXMuZmlsZSA9IGZpbGVbaW5kZXhdCiAgICAgICAgdGhpcy5pbWFnZUZpbGUgPSBmaWxlW2luZGV4XS5yYXcKICAgICAgICB0aGlzLmltYWdlTGlzdCA9IFtmaWxlW2luZGV4XV0KICAgICAgICB0aGlzLmltYWdlVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlW2luZGV4XS5yYXcpCiAgICAgICAgdGhpcy5zaG93SW1hZ2UgPSB0cnVlCiAgICAgICAgdGhpcy5zaG93Q3JvcHBCdXR0b24gPSB0cnVlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuaW1hZ2VFcnJvcikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLmltYWdlRXJyb3IpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy5zaXplRXJyb3IpCiAgICAgICAgfQogICAgICAgIHRoaXMuc2hvd0ltYWdlID0gZmFsc2UKICAgICAgICB0aGlzLmltYWdlTGlzdCA9IFtdCiAgICAgIH0KICAgIH0sCiAgICBzYXZlSW1hZ2UoKSB7CiAgICAgIGNvbnN0IHsgY2FudmFzIH0gPSB0aGlzLiRyZWZzLmNyb3BwZXIuZ2V0UmVzdWx0KCkKICAgICAgdGhpcy5zaG93Q3JvcHBlciA9ICdub25lJwogICAgICB0aGlzLnNob3dDcm9wcEJ1dHRvbiA9IGZhbHNlCiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBjYW52YXMudG9EYXRhVVJMKCkKICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4gewogICAgICAgIHRoaXMuZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgdGhpcy5maWxlLm5hbWUpCiAgICAgICAgdGhpcy5pbWFnZUZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIHRoaXMuZmlsZS5uYW1lKQogICAgICB9LCB0aGlzLmZpbGUucmF3LnR5cGUpCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2VsZigpIHsKICAgICAgdGhpcy5lZGl0Rm9ybS5maXJzdF9uYW1lID0gdGhpcy5zZWxmLmZpcnN0X25hbWUKICAgICAgdGhpcy5lZGl0Rm9ybS5sYXN0X25hbWUgPSB0aGlzLnNlbGYubGFzdF9uYW1lCiAgICAgIHRoaXMuZWRpdEZvcm0ucGVyc2lhbl91c2VybmFtZSA9IHRoaXMuc2VsZi5wZXJzaWFuX3VzZXJuYW1lCiAgICAgIHRoaXMub2xkSW1hZ2UgPSB0aGlzLnNlbGYuaW1hZ2UKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENyb3BwZXIKICB9Cn0K"},{"version":3,"sources":["EditProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditProfile.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      :title=\"$t('edit_information')\"\n      :visible.sync=\"dialogVisible\"\n      :close-on-click-modal=\"false\"\n      :close-on-escape=\"false\"\n      :show-close=\"false\"\n      width=\"40rem\"\n      top=\"7vh\"\n      class=\"small add-book\"\n    >\n      <el-form :model=\"editForm\" ref=\"editUser\" :rules=\"rules\">\n        <div class=\"flexbox wrap item\">\n          <el-form-item :label=\"$t('first_name')\" prop=\"first_name\">\n            <el-input v-model=\"editForm.first_name\"></el-input>\n          </el-form-item>\n          <el-form-item :label=\"$t('last_name')\" prop=\"last_name\">\n            <el-input v-model=\"editForm.last_name\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"flexbox wrap item\">\n          <el-form-item :label=\"$t('persian_username')\" prop=\"persian_username\">\n            <el-input v-model=\"editForm.persian_username\"></el-input>\n          </el-form-item>\n          <el-form-item :label=\"$t('password')\" prop=\"password\">\n            <el-input\n              autocomplete=\"new-password\"\n              @focus=\"isShow = true\"\n              @blur=\"isShow = false\"\n              type=\"password\"\n              v-model=\"editForm.password\"\n            ></el-input>\n            <div v-if=\"isShow\" class=\"password-validation\">\n              <el-checkbox v-model=\"passLength\" disabled>{{\n                $t('eight_characters_or_longer')\n              }}</el-checkbox>\n              <el-checkbox v-model=\"latinPass\" disabled>{{\n                $t('contain_at_least_one_alphabetical_character')\n              }}</el-checkbox>\n              <el-checkbox v-model=\"passNumber\" disabled>{{\n                $t('contain_at_least_one_numeric_character')\n              }}</el-checkbox>\n              <el-checkbox v-model=\"persianPass\" disabled>{{\n                $t('use_english_character_and_numbers')\n              }}</el-checkbox>\n            </div>\n          </el-form-item>\n        </div>\n        <el-form-item :label=\"$t('image')\" prop=\"image\">\n          <div v-if=\"oldImage\" class=\"old-image\">\n            <img :src=\"'http://127.0.0.1:8000' + oldImage\" />\n            <span class=\"el-upload-list__item-actions\" slot=\"default\">\n              <span\n                class=\"el-upload-list__item-delete\"\n                @click=\"handleDeletePhoto()\"\n              >\n                <i class=\"el-icon-delete\"></i>\n              </span>\n            </span>\n          </div>\n          <el-upload\n            :class=\"showImage ? 'hide-with-add-photo' : ''\"\n            action=\"#\"\n            id=\"pick-avatar\"\n            :disabled=\"showImage\"\n            :show-file-list=\"showImage\"\n            :file-list=\"imageList\"\n            list-type=\"picture-card\"\n            :on-change=\"handleAvatarSuccess\"\n            :auto-upload=\"false\"\n          >\n            <i v-if=\"!oldImage\" slot=\"default\" class=\"el-icon-plus\" />\n            <div slot=\"file\" slot-scope=\"{ file }\">\n              <img\n                class=\"el-upload-list__item-thumbnail\"\n                :src=\"imageUrl\"\n                alt=\"\"\n              />\n              <span class=\"el-upload-list__item-actions\">\n                <span\n                  class=\"el-upload-list__item-delete\"\n                  @click=\"handleRemove(file)\"\n                >\n                  <i class=\"el-icon-delete\"></i>\n                </span>\n              </span>\n            </div>\n          </el-upload>\n          <el-dialog :visible.sync=\"dialogShow\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n          </el-dialog>\n        </el-form-item>\n        <div class=\"text-center\">\n          <el-button\n            :loading=\"loading\"\n            class=\"ml-10\"\n            type=\"primary\"\n            @click=\"validateAndSubmitForm('editUser', editUser)\"\n          >\n            {{ $t('edit') }}\n          </el-button>\n          <el-button @click=\"handleClose\"> {{ $t('close') }} </el-button>\n        </div>\n      </el-form>\n    </el-dialog>\n    <el-dialog\n      :visible.sync=\"showCroppButton\"\n      :close-on-click-modal=\"false\"\n      :close-on-escape=\"false\"\n      width=\"40rem\"\n      top=\"7vh\"\n      class=\"show-image\"\n    >\n      <cropper\n        :style=\"`display:${showCropper}`\"\n        :src=\"imageUrl\"\n        ref=\"cropper\"\n        :stencil-props=\"{\n          aspectRatio: 1\n        }\"\n      ></cropper>\n      <div class=\"flexbox align-center justify-center mt-2-rem\">\n        <el-button @click=\"saveImage\">{{ $t('crop') }}</el-button>\n        <el-button @click=\"$refs.cropper.zoom(1.5)\"\n          ><i class=\"el-icon-zoom-in\"></i\n        ></el-button>\n        <el-button @click=\"$refs.cropper.zoom(0.5)\"\n          ><i class=\"el-icon-zoom-out\"></i\n        ></el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from 'vuex'\n  import { Cropper } from 'vue-advanced-cropper'\n  import 'vue-advanced-cropper/dist/style.css'\n  import {\n    passwordLength,\n    latinPassword,\n    passwordNumber,\n    persianPassword,\n    correctPassword\n  } from '@/utils/patterns'\n  export default {\n    props: {\n      dialogVisible: {\n        type: Boolean,\n        default: false\n      },\n      self: {\n        typeof: Object,\n        default: () => {}\n      }\n    },\n    data() {\n      const checkPassword = (rule, value, callback) => {\n        this.resetPasswordValidation()\n        if (value === '') {\n          this.setPasswordValidation()\n          callback()\n        } else if (\n          !correctPassword.test(value) ||\n          persianPassword.test(value)\n        ) {\n          if (passwordLength.test(value)) {\n            this.passLength = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (latinPassword.test(value)) {\n            this.latinPass = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (passwordNumber.test(value)) {\n            this.passNumber = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (!persianPassword.test(value) && value.length) {\n            this.persianPass = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n        } else {\n          this.setPasswordValidation()\n          callback()\n        }\n      }\n      return {\n        loading: false,\n        dialogImageUrl: '',\n        showImage: false,\n        imageFile: '',\n        file: '',\n        imageUrl: '',\n        imageError: '',\n        sizeError: '',\n        imageList: [],\n        showCropper: '',\n        dialogShow: false,\n        showCroppButton: false,\n        passLength: false,\n        latinPass: false,\n        passNumber: false,\n        persianPass: false,\n        isEmailExists: false,\n        isShow: false,\n        oldImage: this.self?.image,\n        editForm: {\n          first_name: this.self?.first_name,\n          last_name: this.self?.last_name,\n          persian_username: this.self?.persian_username,\n          password: '',\n          image: ''\n        },\n        rules: {\n          first_name: [\n            {\n              required: true,\n              message: this.$i18n.t('field_required'),\n              trigger: 'blur'\n            }\n          ],\n          last_name: [\n            {\n              required: true,\n              message: this.$i18n.t('field_required')\n            }\n          ],\n          persian_username: [\n            {\n              required: true,\n              message: this.$i18n.t('field_required')\n            }\n          ],\n          password: [\n            {\n              validator: checkPassword\n            }\n          ]\n        }\n      }\n    },\n    methods: {\n      ...mapActions(['handleRequest', 'setSelf']),\n      resetPasswordValidation() {\n        this.passLength = false\n        this.latinPass = false\n        this.passNumber = false\n        this.persianPass = false\n      },\n      setPasswordValidation() {\n        this.passLength = true\n        this.latinPass = true\n        this.passNumber = true\n        this.persianPass = true\n      },\n      editUser() {\n        this.loading = true\n        let formData = new FormData()\n        for (let [key, value] of Object.entries(this.editForm)) {\n          if (value) {\n            formData.append(key, value)\n          }\n        }\n        if (this.imageFile) {\n          formData.append('image', this.imageFile)\n        }\n        formData.append('email', this.self.email)\n        this.handleRequest({\n          name: 'users/edit',\n          action: 'patch',\n          data: { toPatch: formData }\n        })\n          .then((res) => {\n            this.$message({\n              type: 'success',\n              message: this.$i18n.t('your_profile_was_successfully_edited')\n            })\n            this.setSelf(res.data)\n            this.handleClose()\n            this.loading = false\n          })\n          .catch((error) => {\n            this.loading = false\n            if (error.response.status === 400) {\n              this.$message({\n                type: 'error',\n                message: this.$i18n.t(\n                  'user_with_this_persian_username_already_exists'\n                )\n              })\n            } else {\n              this.$message({\n                type: 'error',\n                message: this.$i18n.t(\n                  'your_request_has_encountered_a_problem_please_try_again'\n                )\n              })\n            }\n          })\n      },\n      handleClose() {\n        this.$emit('close-dialog')\n        this.$refs['editUser'].resetFields()\n        this.imageList = []\n        this.file = ''\n        this.imageFile = ''\n        this.showImage = false\n        this.oldImage = this.self.image\n      },\n      handleRemove() {\n        this.imageList = []\n        this.imageFile = ''\n        this.showImage = false\n        this.showCropper = 'block'\n      },\n      handleDeletePhoto() {\n        this.oldImage = ''\n      },\n      handleAvatarSuccess(res, file) {\n        let index = file.length - 1\n        const isJPG =\n          file[index].raw.type === 'image/png' ||\n          file[index].raw.type === 'image/jpg' ||\n          file[index].raw.type === 'image/jpeg'\n        const isLt2M = file[index].size / 1024 / 1024 < 1\n        if (!isJPG) {\n          this.imageError = this.$i18n.t('unsupported_image_type')\n        }\n        if (!isLt2M) {\n          this.sizeError = this.$i18n.t('extra_size')\n        }\n        if (isJPG && isLt2M) {\n          this.sizeError = ''\n          this.imageError = ''\n          this.file = file[index]\n          this.imageFile = file[index].raw\n          this.imageList = [file[index]]\n          this.imageUrl = URL.createObjectURL(file[index].raw)\n          this.showImage = true\n          this.showCroppButton = true\n        } else {\n          if (this.imageError) {\n            this.$message.error(this.imageError)\n          } else {\n            this.$message.error(this.sizeError)\n          }\n          this.showImage = false\n          this.imageList = []\n        }\n      },\n      saveImage() {\n        const { canvas } = this.$refs.cropper.getResult()\n        this.showCropper = 'none'\n        this.showCroppButton = false\n        this.imageUrl = canvas.toDataURL()\n        canvas.toBlob((blob) => {\n          this.file = new File([blob], this.file.name)\n          this.imageFile = new File([blob], this.file.name)\n        }, this.file.raw.type)\n      }\n    },\n    watch: {\n      self() {\n        this.editForm.first_name = this.self.first_name\n        this.editForm.last_name = this.self.last_name\n        this.editForm.persian_username = this.self.persian_username\n        this.oldImage = this.self.image\n      }\n    },\n    components: {\n      Cropper\n    }\n  }\n</script>\n"]}]}