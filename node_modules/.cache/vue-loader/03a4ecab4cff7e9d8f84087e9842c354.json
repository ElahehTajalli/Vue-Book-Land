{"remainingRequest":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/project/src/components/TopNav.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/project/src/components/TopNav.vue","mtime":1628796126912},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgcXVpY2tNZW51IGZyb20gJ3Z1ZS1xdWljay1tZW51JwppbXBvcnQgRHJhd2VyIGZyb20gJ3Z1ZS1zaW1wbGUtZHJhd2VyJwppbXBvcnQgQWRkUG9zdCBmcm9tICdAL2NvbXBvbmVudHMvcG9zdC9BZGQnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdpbmRvd1dpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgb3B0aW9uczogW10sCiAgICAgIHNlYXJjaDogW10sCiAgICAgIGJvb2tzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRyYXdlcjogZmFsc2UsCiAgICAgIGNvdW50OiA1LAogICAgICBpY29uczogWwogICAgICAgICdmYSBmYS1naXRodWInLAogICAgICAgICdmYSBmYS1jb21tZW50JywKICAgICAgICAnZmEgZmEtY29kZScsCiAgICAgICAgJ2ZhIGZhLWVudmVsb3BlJwogICAgICBdLAogICAgICBsaXN0OiBbCiAgICAgICAgeyBpc0xpbms6IGZhbHNlIH0sCiAgICAgICAgeyBpc0xpbms6IHRydWUsIHVybDogJy9ib29rL2xpc3QnIH0sCiAgICAgICAgeyBpc0xpbms6IHRydWUsIHVybDogJy9wcm9maWxlJyB9LAogICAgICAgIHsgaXNMaW5rOiB0cnVlLCB1cmw6ICcvcG9zdC9saXN0JyB9CiAgICAgIF0sCiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxZDU0OWEnLAogICAgICBjb2xvcjogJyNmZmZmZmYnLAogICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcsCiAgICAgIGlzT3Blbk5ld1RhYjogZmFsc2UsCiAgICAgIG9wZW46IGZhbHNlLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydpc0F1dGhlbnRpY2F0ZWQnLCAnc2VsZiddKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ2hhbmRsZVJlcXVlc3QnLCAnc2V0RnVsbHNjcmVlbicsICdzZXRTZWxmJ10pLAogICAgZ2V0RGF0YSgpIHsKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAndXNlcnMvc2VsZicsCiAgICAgICAgYWN0aW9uOiAnZ2V0QWxsJwogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuc2V0U2VsZihyZXMuZGF0YSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAvLyBpZiAoCiAgICAgICAgICAvLyAgIHRoaXMuJHJvdXRlLm5hbWUgIT09ICdEYXNoYm9hcmQnICYmCiAgICAgICAgICAvLyAgIHRoaXMuJHJvdXRlLm5hbWUgIT09ICdBZHZlcnRpc2VtZW50cycgJiYKICAgICAgICAgIC8vICAgdGhpcy4kcm91dGUubmFtZSAhPT0gJ1ZpZXcnCiAgICAgICAgICAvLyApIHsKICAgICAgICAgIC8vICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgLy8gICAgIG5hbWU6ICdEYXNoYm9hcmQnLAogICAgICAgICAgLy8gICAgIHBhcmFtczogeyBzaG93QWxlcnQ6IGZhbHNlIH0KICAgICAgICAgIC8vICAgfSkKICAgICAgICAgIC8vIH0KICAgICAgICAgIC8vIHRoaXMubG9nb3V0KCkKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMuc2V0RnVsbHNjcmVlbihmYWxzZSkKICAgICAgICB9KQogICAgfSwKICAgIGdldFdpZHRoT25SZXNpemUoKSB7CiAgICAgIHRoaXMud2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aAogICAgfSwKICAgIHJlbW90ZU1ldGhvZChxdWVyeSkgewogICAgICBpZiAocXVlcnkgIT09ICcnKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuYm9va3MuZmlsdGVyKChpdGVtKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTEKICAgICAgICAgIH0pCiAgICAgICAgfSwgMjAwKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3B0aW9ucyA9IFtdCiAgICAgIH0KICAgIH0sCiAgICBnZXRCb29rcygpIHsKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAnYm9va3MvbGlzdCcsCiAgICAgICAgYWN0aW9uOiAnZ2V0QWxsJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBzb3J0OiAnY3JlYXRlZF9hdDpkZXNjJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5ib29rcyA9IHJlcy5kYXRhLmJvb2tzCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlUm91dGluZyhuYW1lKSB7CiAgICAgIHRoaXMudG9nZ2xlKCkKICAgICAgaWYgKHRoaXMuJHJvdXRlci5oaXN0b3J5LmN1cnJlbnQubmFtZSAhPT0gbmFtZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZSB9KQogICAgICB9CiAgICB9LAogICAgdG9nZ2xlKCkgewogICAgICB0aGlzLm9wZW4gPSAhdGhpcy5vcGVuCiAgICB9LAogICAgc2hvd0RpYWxvZygpIHsKICAgICAgdGhpcy50b2dnbGUoKQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCkKICAgIHRoaXMuZ2V0Qm9va3MoKQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZ2V0V2lkdGhPblJlc2l6ZSkKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmdldFdpZHRoT25SZXNpemUpCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBxdWlja01lbnUsCiAgICBEcmF3ZXIsCiAgICBBZGRQb3N0CiAgfQp9Cg=="},{"version":3,"sources":["TopNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TopNav.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"topnav\">\n    <div class=\"flexbox align-center justify-center\">\n      <quick-menu\n        :menu-count=\"4\"\n        :icon-class=\"icons\"\n        :menu-url-list=\"list\"\n        :position=\"position\"\n        :backgroundColor=\"backgroundColor\"\n      ></quick-menu>\n      <img\n        @click=\"toggle\"\n        src=\"https://img.icons8.com/material-outlined/24/000000/menu--v1.png\"\n      />\n      <Drawer @close=\"toggle\" align=\"right\" :closeable=\"true\">\n        <div v-if=\"open\">\n          <span @click=\"showDialog()\">\n            {{ $t('add_post') }}\n          </span>\n          <span @click=\"handleRouting('BookList')\">\n            {{ $t('books') }}\n          </span>\n          <span @click=\"handleRouting('Profile')\">\n            {{ $t('profile') }}\n          </span>\n          <span @click=\"handleRouting('MyPostsList')\">\n            {{ $t('my_criticisms') }}\n          </span>\n        </div>\n      </Drawer>\n      <b @click=\"handleRouting('Dashboard')\">\n        {{ $t('book_land') }}\n      </b>\n      <el-select\n        v-model=\"search\"\n        filterable\n        remote\n        reserve-keyword\n        :placeholder=\"$t('search_book')\"\n        :remote-method=\"remoteMethod\"\n        :loading=\"loading\"\n      >\n        <el-option\n          v-for=\"item in options\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :value=\"item.id\"\n        >\n          <span>{{ item.name }}</span>\n          <span style=\"display:block\">{{ item.author.name }}</span>\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"flexbox align-center justify-center\" v-if=\"!isAuthenticated\">\n      <el-button\n        type=\"text\"\n        class=\"signup\"\n        @click=\"$router.push({ name: 'SignUp' })\"\n      >\n        {{ $t('signup') }}\n      </el-button>\n      <el-button class=\"login mr-10\" @click=\"$router.push({ name: 'Login' })\">\n        {{ $t('login') }}\n      </el-button>\n    </div>\n    <div class=\"flexbox align-center justify-center\" v-if=\"isAuthenticated\">\n      <span class=\"email ml-10\" v-if=\"self\">\n        {{ self.persian_username }}\n      </span>\n      <el-button type=\"text\" class=\"signup\" @click=\"handleRouting('Home')\">\n        {{ $t('my_page') }}\n      </el-button>\n      <el-button class=\"login mr-10\" @click=\"logout\">\n        {{ $t('logout') }}\n      </el-button>\n    </div>\n    <AddPost\n      :dialogVisible=\"dialogVisible\"\n      @close-dialog=\"dialogVisible = false\"\n    />\n  </div>\n</template>\n\n<script>\n  import { mapGetters, mapActions } from 'vuex'\n  import quickMenu from 'vue-quick-menu'\n  import Drawer from 'vue-simple-drawer'\n  import AddPost from '@/components/post/Add'\n\n  export default {\n    data() {\n      return {\n        windowWidth: window.innerWidth,\n        options: [],\n        search: [],\n        books: [],\n        loading: false,\n        drawer: false,\n        count: 5,\n        icons: [\n          'fa fa-github',\n          'fa fa-comment',\n          'fa fa-code',\n          'fa fa-envelope'\n        ],\n        list: [\n          { isLink: false },\n          { isLink: true, url: '/book/list' },\n          { isLink: true, url: '/profile' },\n          { isLink: true, url: '/post/list' }\n        ],\n        backgroundColor: '#1d549a',\n        color: '#ffffff',\n        position: 'bottom-right',\n        isOpenNewTab: false,\n        open: false,\n        dialogVisible: false\n      }\n    },\n    computed: {\n      ...mapGetters(['isAuthenticated', 'self'])\n    },\n    methods: {\n      ...mapActions(['handleRequest', 'setFullscreen', 'setSelf']),\n      getData() {\n        this.handleRequest({\n          name: 'users/self',\n          action: 'getAll'\n        })\n          .then((res) => {\n            this.setSelf(res.data)\n          })\n          .catch(() => {\n            // if (\n            //   this.$route.name !== 'Dashboard' &&\n            //   this.$route.name !== 'Advertisements' &&\n            //   this.$route.name !== 'View'\n            // ) {\n            //   this.$router.push({\n            //     name: 'Dashboard',\n            //     params: { showAlert: false }\n            //   })\n            // }\n            // this.logout()\n          })\n          .finally(() => {\n            this.setFullscreen(false)\n          })\n      },\n      getWidthOnResize() {\n        this.windowWidth = window.innerWidth\n      },\n      remoteMethod(query) {\n        if (query !== '') {\n          this.loading = true\n          setTimeout(() => {\n            this.loading = false\n            this.options = this.books.filter((item) => {\n              return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1\n            })\n          }, 200)\n        } else {\n          this.options = []\n        }\n      },\n      getBooks() {\n        this.handleRequest({\n          name: 'books/list',\n          action: 'getAll',\n          data: {\n            query: {\n              sort: 'created_at:desc'\n            }\n          }\n        }).then((res) => {\n          this.books = res.data.books\n        })\n      },\n      handleRouting(name) {\n        this.toggle()\n        if (this.$router.history.current.name !== name) {\n          this.$router.push({ name })\n        }\n      },\n      toggle() {\n        this.open = !this.open\n      },\n      showDialog() {\n        this.toggle()\n        this.dialogVisible = true\n      }\n    },\n    created() {\n      this.getData()\n      this.getBooks()\n      window.addEventListener('resize', this.getWidthOnResize)\n    },\n    destroyed() {\n      window.removeEventListener('resize', this.getWidthOnResize)\n    },\n    components: {\n      quickMenu,\n      Drawer,\n      AddPost\n    }\n  }\n</script>\n"]}]}