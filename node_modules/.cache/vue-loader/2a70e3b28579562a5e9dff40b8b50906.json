{"remainingRequest":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/Vue-Book-Land/src/components/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/Vue-Book-Land/src/components/UserProfile.vue","mtime":1630222368947},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgQ3JpdGljaXNtIGZyb20gJ0AvY29tcG9uZW50cy9wb3N0L0NyaXRpY2lzbScKaW1wb3J0IEZvbGxvd2luZ0ZvbGxvd2VycyBmcm9tICdAL2NvbXBvbmVudHMvRm9sbG93aW5nRm9sbG93ZXJzJwppbXBvcnQgU3dpcGVyIGZyb20gJ0AvY29tcG9uZW50cy9Td2lwZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHt9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgYnV0dG9uTG9hZGluZzogZmFsc2UsCiAgICAgIGlzRm9sbG93QnV0dG9uOiB0cnVlLAogICAgICBmb2xsb3dpbmc6IFtdLAogICAgICBmb2xsb3dlcnM6IFtdLAogICAgICB0b3RhbF9mb2xsb3dpbmc6IDAsCiAgICAgIHRvdGFsX2ZvbGxvd2VyczogMCwKICAgICAgcG9zdHM6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbGlzdE5hbWU6ICcnLAogICAgICByZWFkOiBbXSwKICAgICAgcmVhZGluZzogW10sCiAgICAgIHdhbnRzVG9SZWFkOiBbXSwKICAgICAgZmF2b3JpdGVzOiBbXQogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IHRoaXMuZ2V0VXNlcigpCiAgICBhd2FpdCB0aGlzLmdldFJlbGF0aW9uc2hpcHMoJ2ZvbGxvd2luZycsICd0b3RhbF9mb2xsb3dpbmcnLCB7CiAgICAgIGZvbGxvd2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIH0pCiAgICBhd2FpdCB0aGlzLmdldFJlbGF0aW9uc2hpcHMoJ2ZvbGxvd2VycycsICd0b3RhbF9mb2xsb3dlcnMnLCB7CiAgICAgIGZvbGxvd2luZ19pZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICB9KQogICAgaWYgKHRoaXMuc2VsZikgewogICAgICBhd2FpdCB0aGlzLmdldFBvc3RzKCkKICAgICAgYXdhaXQgdGhpcy5jaGVja1JlbGF0aW9uc2hpcCgpCiAgICB9CiAgICB0aGlzLmdldFBsYW4oKQogICAgdGhpcy5nZXRGYXZvcml0ZSgpCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ3NlbGYnXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydoYW5kbGVSZXF1ZXN0J10pLAogICAgZ2V0VXNlcigpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICd1c2VycycsCiAgICAgICAgYWN0aW9uOiAnZ2V0T25lJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgfQogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnVzZXIgPSByZXMuZGF0YS51c2VyCiAgICAgIH0pCiAgICB9LAogICAgZ2V0UmVsYXRpb25zaGlwcyhwYXJhbSwgdG90YWwsIHF1ZXJ5KSB7CiAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdCh7CiAgICAgICAgbmFtZTogJ3VzZXJzL2dldFJlbGF0aW9uc2hpcHMnLAogICAgICAgIGFjdGlvbjogJ2dldEFsbCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcXVlcnkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXNbcGFyYW1dID0gcmVzLmRhdGEucmVsYXRpb25zaGlwcwogICAgICAgIHRoaXNbdG90YWxdID0gcmVzLnRvdGFsCiAgICAgIH0pCiAgICB9LAogICAgZ2V0UGxhbih0aXRsZSkgewogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICdib29rcy9nZXRQbGFuJywKICAgICAgICBhY3Rpb246ICdnZXRBbGwnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHVzZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgdGl0bGUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucmVhZCA9IHJlcy5kYXRhLnBsYW4ucmVhZAogICAgICAgIHRoaXMucmVhZGluZyA9IHJlcy5kYXRhLnBsYW4ucmVhZGluZwogICAgICAgIHRoaXMud2FudHNUb1JlYWQgPSByZXMuZGF0YS5wbGFuLndhbnRzX3RvX3JlYWQKICAgICAgfSkKICAgIH0sCiAgICBnZXRGYXZvcml0ZSgpIHsKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAnYm9va3MvZ2V0RmF2b3JpdGUnLAogICAgICAgIGFjdGlvbjogJ2dldEFsbCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgdXNlcjogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmZhdm9yaXRlcyA9IHJlcy5kYXRhLmZhdm9yaXRlCiAgICAgICAgY29uc29sZS5sb2codGhpcy5mYXZvcml0ZXMpCiAgICAgIH0pCiAgICB9LAogICAgY2hlY2tSZWxhdGlvbnNoaXAoKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZm9sbG93aW5nJywgdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZvbGxvd2VyJywgdGhpcy5zZWxmLmlkKQoKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAndXNlcnMvY2hlY2tSZWxhdGlvbnNoaXAnLAogICAgICAgIGFjdGlvbjogJ2NyZWF0ZScsCiAgICAgICAgZGF0YTogZm9ybURhdGEKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmlzRm9sbG93QnV0dG9uID0gZmFsc2UKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiAodGhpcy5pc0ZvbGxvd0J1dHRvbiA9IHRydWUpKQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLmxvYWRpbmcgPSBmYWxzZSkpCiAgICB9LAogICAgZ2V0UG9zdHMoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAncG9zdHMvJywKICAgICAgICBhY3Rpb246ICdnZXRBbGwnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5wb3N0cyA9IHJlcy5kYXRhLnBvc3RzCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRm9sbG93KCkgewogICAgICB0aGlzLmJ1dHRvbkxvYWRpbmcgPSB0cnVlCiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZm9sbG93aW5nJywgdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZvbGxvd2VyJywgdGhpcy5zZWxmLmlkKQoKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAndXNlcnMvZm9sbG93JywKICAgICAgICBhY3Rpb246ICdjcmVhdGUnLAogICAgICAgIGRhdGE6IGZvcm1EYXRhCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5pc0ZvbGxvd0J1dHRvbiA9IGZhbHNlCiAgICAgICAgICB0aGlzLmdldFJlbGF0aW9uc2hpcHMoJ2ZvbGxvd2VycycsICd0b3RhbF9mb2xsb3dlcnMnLCB7CiAgICAgICAgICAgIGZvbGxvd2luZ19pZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICB9KQogICAgICAgICAgLy9TZW5kIG1lc3NhZ2UKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLmJ1dHRvbkxvYWRpbmcgPSBmYWxzZSkpCiAgICB9LAogICAgaGFuZGxlVW5Gb2xsb3coKSB7CiAgICAgIHRoaXMuYnV0dG9uTG9hZGluZyA9IHRydWUKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmb2xsb3dpbmcnLCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZm9sbG93ZXInLCB0aGlzLnNlbGYuaWQpCgogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICd1c2Vycy91bmZvbGxvdycsCiAgICAgICAgYWN0aW9uOiAnY3JlYXRlJywKICAgICAgICBkYXRhOiBmb3JtRGF0YQogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuaXNGb2xsb3dCdXR0b24gPSB0cnVlCiAgICAgICAgICB0aGlzLmdldFJlbGF0aW9uc2hpcHMoJ2ZvbGxvd2VycycsICd0b3RhbF9mb2xsb3dlcnMnLCB7CiAgICAgICAgICAgIGZvbGxvd2luZ19pZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICB9KQogICAgICAgICAgLy9TZW5kIG1lc3NhZ2UKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLmJ1dHRvbkxvYWRpbmcgPSBmYWxzZSkpCiAgICB9LAogICAgc2hvd0ZvbGxvd2luZ09yRm9sbG93ZXJzKG5hbWUpIHsKICAgICAgY29uc29sZS5sb2coJzEnKQogICAgICB0aGlzLmxpc3ROYW1lID0gbmFtZQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2VsZigpIHsKICAgICAgdGhpcy5nZXRQb3N0cygpCiAgICAgIHRoaXMuY2hlY2tSZWxhdGlvbnNoaXAoKQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQ3JpdGljaXNtLAogICAgRm9sbG93aW5nRm9sbG93ZXJzLAogICAgU3dpcGVyCiAgfQp9Cg=="},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserProfile.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"user-profile\">\n    <div class=\"profile\">\n      <el-card v-if=\"!loading\">\n        <div class=\"user-information\">\n          <img\n            class=\"profile-picture\"\n            v-if=\"user.image\"\n            :src=\"'http://ketabland.pythonanywhere.com' + user.image\"\n          />\n          <img\n            v-else\n            class=\"profile-picture\"\n            src=\"https://img.icons8.com/cotton/64/000000/person-male--v2.png\"\n          />\n          <div class=\"flexbox column-direction\">\n            <div>\n              <div class=\"name\">\n                <span> {{ user.persian_username }} </span>\n              </div>\n            </div>\n            <div class=\"following_followers\">\n              <div @click=\"showFollowingOrFollowers('following')\">\n                <span> {{ $t('following') }} </span>\n                <span> {{ total_following }} </span>\n              </div>\n              <div @click=\"showFollowingOrFollowers('follower')\">\n                <span> {{ $t('followers') }} </span>\n                <span> {{ total_followers }} </span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"buttons flexbox align-center\">\n          <el-button\n            @click=\"\n              $router.push({\n                name: 'ChatID',\n                params: { id: $route.params.id }\n              })\n            \"\n          >\n            {{ $t('send_message') }}\n          </el-button>\n          <el-button\n            v-if=\"isFollowButton\"\n            :loading=\"buttonLoading\"\n            type=\"primary\"\n            @click=\"handleFollow()\"\n          >\n            {{ $t('follow') }}\n          </el-button>\n          <el-button\n            v-else\n            :loading=\"buttonLoading\"\n            type=\"danger\"\n            @click=\"handleUnFollow()\"\n          >\n            {{ $t('unfollow') }}\n          </el-button>\n        </div>\n      </el-card>\n    </div>\n    <div class=\"my-plan-title\" v-if=\"favorites.length\">\n      <span>{{ $t('favorites') }}</span>\n    </div>\n    <div class=\"favorite\" v-if=\"favorites.length\">\n      <Swiper\n        :books=\"favorites\"\n        :title=\"$t('favorites')\"\n        class=\"newest\"\n        :fromProfile=\"true\"\n      />\n    </div>\n    <div class=\"my-plan-title\" v-if=\"wantsToRead.length\">\n      <span>{{ $t('want_to_read') }}</span>\n    </div>\n    <div class=\"wants-to-read-swiper\" v-if=\"wantsToRead.length\">\n      <Swiper\n        :books=\"wantsToRead\"\n        :title=\"$t('want_to_read')\"\n        class=\"newest\"\n        :fromProfile=\"true\"\n      />\n    </div>\n    <div class=\"my-plan-title\" v-if=\"read.length\">\n      <span>{{ $t('read') }}</span>\n    </div>\n    <div class=\"read-swiper\" v-if=\"read.length\">\n      <Swiper\n        :books=\"read\"\n        :title=\"$t('read')\"\n        class=\"newest\"\n        :fromProfile=\"true\"\n      />\n    </div>\n    <div class=\"my-plan-title\" v-if=\"reading.length\">\n      <span>{{ $t('currently_reading') }}</span>\n    </div>\n    <div class=\"reading-swiper\" v-if=\"reading.length\">\n      <Swiper\n        :books=\"reading\"\n        :title=\"$t('currently_reading')\"\n        class=\"newest\"\n        :fromProfile=\"true\"\n      />\n    </div>\n    <div class=\"view-book\">\n      <div\n        class=\"post flexbox column-direction align-center\"\n        v-if=\"posts.length\"\n      >\n        <div class=\"criticisms-title\">\n          <span>{{ $t('criticisms') }}</span>\n        </div>\n        <Criticism v-for=\"p in posts\" :key=\"p.id\" :post=\"p\" :isMyPosts=\"true\" />\n      </div>\n    </div>\n    <FollowingFollowers\n      :users=\"listName === 'following' ? following : followers\"\n      :listName=\"listName\"\n      :dialogVisible=\"dialogVisible\"\n      @close-dialog=\"dialogVisible = false\"\n    />\n  </div>\n</template>\n\n<script>\n  import { mapGetters, mapActions } from 'vuex'\n  import Criticism from '@/components/post/Criticism'\n  import FollowingFollowers from '@/components/FollowingFollowers'\n  import Swiper from '@/components/Swiper'\n\n  export default {\n    data() {\n      return {\n        user: {},\n        loading: false,\n        buttonLoading: false,\n        isFollowButton: true,\n        following: [],\n        followers: [],\n        total_following: 0,\n        total_followers: 0,\n        posts: [],\n        dialogVisible: false,\n        listName: '',\n        read: [],\n        reading: [],\n        wantsToRead: [],\n        favorites: []\n      }\n    },\n    async created() {\n      await this.getUser()\n      await this.getRelationships('following', 'total_following', {\n        follower_id: this.$route.params.id\n      })\n      await this.getRelationships('followers', 'total_followers', {\n        following_id: this.$route.params.id\n      })\n      if (this.self) {\n        await this.getPosts()\n        await this.checkRelationship()\n      }\n      this.getPlan()\n      this.getFavorite()\n    },\n    computed: {\n      ...mapGetters(['self'])\n    },\n    methods: {\n      ...mapActions(['handleRequest']),\n      getUser() {\n        this.loading = true\n        this.handleRequest({\n          name: 'users',\n          action: 'getOne',\n          data: {\n            id: this.$route.params.id\n          }\n        }).then((res) => {\n          this.user = res.data.user\n        })\n      },\n      getRelationships(param, total, query) {\n        this.handleRequest({\n          name: 'users/getRelationships',\n          action: 'getAll',\n          data: {\n            query\n          }\n        }).then((res) => {\n          this[param] = res.data.relationships\n          this[total] = res.total\n        })\n      },\n      getPlan(title) {\n        this.handleRequest({\n          name: 'books/getPlan',\n          action: 'getAll',\n          data: {\n            query: {\n              user: this.$route.params.id,\n              title\n            }\n          }\n        }).then((res) => {\n          this.read = res.data.plan.read\n          this.reading = res.data.plan.reading\n          this.wantsToRead = res.data.plan.wants_to_read\n        })\n      },\n      getFavorite() {\n        this.handleRequest({\n          name: 'books/getFavorite',\n          action: 'getAll',\n          data: {\n            query: {\n              user: this.$route.params.id\n            }\n          }\n        }).then((res) => {\n          this.favorites = res.data.favorite\n          console.log(this.favorites)\n        })\n      },\n      checkRelationship() {\n        let formData = new FormData()\n        formData.append('following', this.$route.params.id)\n        formData.append('follower', this.self.id)\n\n        this.handleRequest({\n          name: 'users/checkRelationship',\n          action: 'create',\n          data: formData\n        })\n          .then(() => {\n            this.isFollowButton = false\n          })\n          .catch(() => (this.isFollowButton = true))\n          .finally(() => (this.loading = false))\n      },\n      getPosts() {\n        this.loading = true\n        this.handleRequest({\n          name: 'posts/',\n          action: 'getAll',\n          data: {\n            query: {\n              user_id: this.$route.params.id\n            }\n          }\n        }).then((res) => {\n          this.posts = res.data.posts\n        })\n      },\n      handleFollow() {\n        this.buttonLoading = true\n        let formData = new FormData()\n        formData.append('following', this.$route.params.id)\n        formData.append('follower', this.self.id)\n\n        this.handleRequest({\n          name: 'users/follow',\n          action: 'create',\n          data: formData\n        })\n          .then(() => {\n            this.isFollowButton = false\n            this.getRelationships('followers', 'total_followers', {\n              following_id: this.$route.params.id\n            })\n            //Send message\n          })\n          .finally(() => (this.buttonLoading = false))\n      },\n      handleUnFollow() {\n        this.buttonLoading = true\n        let formData = new FormData()\n        formData.append('following', this.$route.params.id)\n        formData.append('follower', this.self.id)\n\n        this.handleRequest({\n          name: 'users/unfollow',\n          action: 'create',\n          data: formData\n        })\n          .then(() => {\n            this.isFollowButton = true\n            this.getRelationships('followers', 'total_followers', {\n              following_id: this.$route.params.id\n            })\n            //Send message\n          })\n          .finally(() => (this.buttonLoading = false))\n      },\n      showFollowingOrFollowers(name) {\n        console.log('1')\n        this.listName = name\n        this.dialogVisible = true\n      }\n    },\n    watch: {\n      self() {\n        this.getPosts()\n        this.checkRelationship()\n      }\n    },\n    components: {\n      Criticism,\n      FollowingFollowers,\n      Swiper\n    }\n  }\n</script>\n"]}]}