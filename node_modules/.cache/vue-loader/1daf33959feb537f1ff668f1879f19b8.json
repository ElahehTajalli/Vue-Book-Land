{"remainingRequest":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/project/src/components/auth/ForgotPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/project/src/components/auth/ForgotPassword.vue","mtime":1625857313517},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgewogIHBhc3N3b3JkTGVuZ3RoLAogIGxhdGluUGFzc3dvcmQsCiAgcGFzc3dvcmROdW1iZXIsCiAgcGVyc2lhblBhc3N3b3JkLAogIGNvcnJlY3RQYXNzd29yZCwKICBlbWFpbAp9IGZyb20gJ0AvdXRpbHMvcGF0dGVybnMnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgY29uc3QgZ2V0UGFzc3dvcmRGb3JtID0gKCkgPT4gewogICAgICByZXR1cm4gewogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBjb25maXJtX3Bhc3N3b3JkOiAnJwogICAgICB9CiAgICB9CiAgICBjb25zdCBnZXRFbWFpbEZvcm0gPSAoKSA9PiB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZW1haWw6ICcnCiAgICAgIH0KICAgIH0KICAgIGNvbnN0IGNoZWNrUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIHRoaXMucmVzZXRQYXNzd29yZFZhbGlkYXRpb24oKQogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJGkxOG4udCgnaW5zZXJ0X3lvdXJfcGFzc3dvcmQnKSkpCiAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgIWNvcnJlY3RQYXNzd29yZC50ZXN0KHZhbHVlKSB8fAogICAgICAgIHBlcnNpYW5QYXNzd29yZC50ZXN0KHZhbHVlKQogICAgICApIHsKICAgICAgICBpZiAocGFzc3dvcmRMZW5ndGgudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIHRoaXMucGFzc0xlbmd0aCA9IHRydWUKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcih0aGlzLiRpMThuLnQoJ3dyb25nX3Bhc3N3b3JkJykpKQogICAgICAgIH0KICAgICAgICBpZiAobGF0aW5QYXNzd29yZC50ZXN0KHZhbHVlKSkgewogICAgICAgICAgdGhpcy5sYXRpblBhc3MgPSB0cnVlCiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCd3cm9uZ19wYXNzd29yZCcpKSkKICAgICAgICB9CiAgICAgICAgaWYgKHBhc3N3b3JkTnVtYmVyLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICB0aGlzLnBhc3NOdW1iZXIgPSB0cnVlCiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCd3cm9uZ19wYXNzd29yZCcpKSkKICAgICAgICB9CiAgICAgICAgaWYgKCFwZXJzaWFuUGFzc3dvcmQudGVzdCh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLnBlcnNpYW5QYXNzID0gdHJ1ZQogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHRoaXMuJGkxOG4udCgnd3JvbmdfcGFzc3dvcmQnKSkpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0KICAgIH0KICAgIGNvbnN0IGNoZWNrQ29uZmlybVBhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2soCiAgICAgICAgICBuZXcgRXJyb3IodGhpcy4kaTE4bi50KCdwbGVhc2VfaW5zZXJ0X3Bhc3N3b3JkX2NvbmZpcm1hdGlvbicpKQogICAgICAgICkKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5wYXNzd29yZEZvcm0ucGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCdwYXNzd29yZHNfZG9fbm90X21hdGNoJykpKQogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCkKICAgICAgfQogICAgfQogICAgY29uc3QgY2hlY2tFbWFpbCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKCF2YWx1ZS5sZW5ndGgpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCdpbnNlcnRfeW91cl9lbWFpbCcpKSkKICAgICAgfSBlbHNlIGlmICghZW1haWwudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IodGhpcy4kaTE4bi50KCdpbnNlcnRfdmFsaWRfZW1haWwnKSkpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZW1haWw6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdmFsaWRhdG9yOiBjaGVja0VtYWlsLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHBhc3N3b3JkUnVsZXM6IHsKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrUGFzc3dvcmQsCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBjb25maXJtX3Bhc3N3b3JkOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tDb25maXJtUGFzc3dvcmQsCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGFjdGl2ZVN0ZXA6IDAsCiAgICAgIGZvcm1zOiBbJ2VtYWlsRm9ybScsICdwYXNzd29yZEZvcm0nXSwKICAgICAgY2FsbGJhY2tzOiBbdGhpcy5oYW5kbGVFbWFpbCwgdGhpcy5oYW5kbGVQYXNzd29yZF0sCiAgICAgIHBhc3N3b3JkRm9ybTogZ2V0UGFzc3dvcmRGb3JtKCksCiAgICAgIGVtYWlsRm9ybTogZ2V0RW1haWxGb3JtKCksCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIHBhc3NMZW5ndGg6IGZhbHNlLAogICAgICBsYXRpblBhc3M6IGZhbHNlLAogICAgICBwYXNzTnVtYmVyOiBmYWxzZSwKICAgICAgcGVyc2lhblBhc3M6IGZhbHNlLAogICAgICBpc0VtYWlsRXhpc3RzOiBmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyd1c2VyJ10pLAogICAgY3VycmVudEZvcm0oKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm1zW3RoaXMuYWN0aXZlU3RlcF0KICAgIH0sCiAgICBjdXJyZW50Q2FsbGJhY2soKSB7CiAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrc1t0aGlzLmFjdGl2ZVN0ZXBdCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnaGFuZGxlUmVxdWVzdCddKSwKICAgIGRpc2FibGVMb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfSwKICAgIHJlc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLnBhc3NMZW5ndGggPSBmYWxzZQogICAgICB0aGlzLmxhdGluUGFzcyA9IGZhbHNlCiAgICAgIHRoaXMucGFzc051bWJlciA9IGZhbHNlCiAgICAgIHRoaXMucGVyc2lhblBhc3MgPSBmYWxzZQogICAgfSwKICAgIHNldFBhc3N3b3JkVmFsaWRhdGlvbigpIHsKICAgICAgdGhpcy5wYXNzTGVuZ3RoID0gdHJ1ZQogICAgICB0aGlzLmxhdGluUGFzcyA9IHRydWUKICAgICAgdGhpcy5wYXNzTnVtYmVyID0gdHJ1ZQogICAgICB0aGlzLnBlcnNpYW5QYXNzID0gdHJ1ZQogICAgfSwKICAgIGhhbmRsZUNoYW5nZVBhc3N3b3JkRm9ybVN1Ym1pdCgpIHsKICAgICAgbGV0IHsgY3VycmVudEZvcm0sIGN1cnJlbnRDYWxsYmFjayB9ID0gdGhpcwogICAgICB0aGlzLiRyZWZzW2N1cnJlbnRGb3JtXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0ZXAgPT09IDEpIHsKICAgICAgICAgICAgdGhpcy5yZXNldFBhc3N3b3JkVmFsaWRhdGlvbigpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICBjdXJyZW50Q2FsbGJhY2soKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRW1haWwoKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZW1haWwnLCB0aGlzLmVtYWlsRm9ybS5lbWFpbCkKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAndXNlcnMvZm91bmRfdXNlcicsCiAgICAgICAgYWN0aW9uOiAnY3JlYXRlJywKICAgICAgICBkYXRhOiBmb3JtRGF0YQogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUxvYWRpbmcoKQogICAgICAgICAgdGhpcy5hY3RpdmVTdGVwID0gMQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlTG9hZGluZygpCiAgICAgICAgICB0aGlzLnNob3dFcnJvcihlcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIGhhbmRsZVBhc3N3b3JkKCkgewogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICd1c2Vycy9mb3Jnb3RfcGFzc3dvcmQnLAogICAgICAgIGFjdGlvbjogJ3BhdGNoVXNlcicsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdG9QYXRjaDogewogICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbEZvcm0uZW1haWwsCiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkRm9ybS5wYXNzd29yZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVMb2FkaW5nKCkKICAgICAgICAgIHRoaXMuc2V0VG9rZW5zKHJlcy50b2tlbikKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogYC9ob21lYCB9KQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlTG9hZGluZygpCiAgICAgICAgICB0aGlzLnNob3dFcnJvcihlcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIGNoYW5nZVJvdXRlKG5hbWUpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lIH0pCiAgICB9LAogICAgZ29Ub1N0ZXBPbmUoKSB7CiAgICAgIHRoaXMuYWN0aXZlU3RlcCA9IDAKICAgICAgdGhpcy4kcmVmc1sncGFzc3dvcmRGb3JtJ10ucmVzZXRGaWVsZHMoKQogICAgICB0aGlzLiRyZWZzWydlbWFpbEZvcm0nXS5yZXNldEZpZWxkcygpCiAgICB9LAogICAgc2hvd0Vycm9yKGVycm9yKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgbWVzc2FnZTogdGhpcy4kaTE4bi50KGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzKSwKICAgICAgICBjdXN0b21DbGFzczogJ2JnLWVycm9yLWRhcmsnCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ForgotPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ForgotPassword.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div class=\"signup-page\">\n    <div class=\"logo text-center mb-10\" @click=\"changeRoute('Dashboard')\">\n      {{ $t('book_land') }}\n    </div>\n    <el-card>\n      <div slot=\"header\" class=\"clearfix\">\n        <span>{{ $t('forgot_password') }}</span>\n      </div>\n      <div>\n        <el-steps\n          :active=\"activeStep\"\n          align-center\n          finish-status=\"success\"\n          class=\"mb-15 text-right\"\n          style=\"margin-bottom:30px;\"\n        >\n          <el-step :title=\"$t('insert_email')\"></el-step>\n          <el-step :title=\"$t('change_password')\"></el-step>\n          <el-step :title=\"$t('login')\"></el-step>\n        </el-steps>\n\n        <el-form\n          v-show=\"activeStep === 0\"\n          :rules=\"rules\"\n          :model=\"emailForm\"\n          ref=\"emailForm\"\n          label-position=\"top\"\n          :disabled=\"loading\"\n        >\n          <el-form-item prop=\"email\">\n            <el-input\n              autocomplete=\"new-email\"\n              class=\"ltr text-right\"\n              :placeholder=\"$t('email')\"\n              v-model=\"emailForm.email\"\n            >\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"flexbox align-center justify-center no_margin\">\n            <el-button\n              type=\"primary\"\n              @click=\"handleChangePasswordFormSubmit\"\n              :loading=\"loading\"\n            >\n              {{ $t('next_step') }}\n            </el-button>\n          </el-form-item>\n          <div class=\"text-center buttons_div\">\n            <el-button type=\"text\" @click=\"changeRoute('Dashboard')\">\n              {{ $t('main_page') }}\n            </el-button>\n            |\n            <el-button\n              type=\"text\"\n              @click=\"changeRoute('Login')\"\n              class=\"no_margin\"\n            >\n              {{ $t('login') }}\n            </el-button>\n          </div>\n        </el-form>\n\n        <el-form\n          v-show=\"activeStep === 1\"\n          :model=\"passwordForm\"\n          :rules=\"passwordRules\"\n          ref=\"passwordForm\"\n          label-position=\"top\"\n          :disabled=\"loading\"\n        >\n          <el-form-item prop=\"password\">\n            <el-input\n              autocomplete=\"new-password\"\n              type=\"password\"\n              class=\"ltr text-right\"\n              @focus=\"isShow = true\"\n              @blur=\"isShow = false\"\n              v-model=\"passwordForm.password\"\n              :placeholder=\"$t('password')\"\n            ></el-input>\n            <div v-if=\"isShow\" class=\"password-validation\">\n              <el-checkbox v-model=\"passLength\" disabled>{{\n                $t('eight_characters_or_longer')\n              }}</el-checkbox>\n              <el-checkbox v-model=\"latinPass\" disabled>{{\n                $t('contain_at_least_one_alphabetical_character')\n              }}</el-checkbox>\n              <el-checkbox v-model=\"passNumber\" disabled>{{\n                $t('contain_at_least_one_numeric_character')\n              }}</el-checkbox>\n              <el-checkbox v-model=\"persianPass\" disabled>{{\n                $t('use_english_character_and_numbers')\n              }}</el-checkbox>\n            </div>\n          </el-form-item>\n          <el-form-item prop=\"confirm_password\">\n            <el-input\n              type=\"password\"\n              class=\"ltr text-right\"\n              :placeholder=\"$t('confirm_password')\"\n              v-model=\"passwordForm.confirm_password\"\n            >\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"flexbox align-center justify-center no_margin\">\n            <el-button\n              type=\"primary\"\n              @click=\"handleChangePasswordFormSubmit\"\n              :loading=\"loading\"\n            >\n              {{ $t('change_password') }}\n            </el-button>\n            <el-button @click=\"goToStepOne\" :loading=\"loading\" class=\"mt-15\">\n              {{ $t('reset') }}\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n  import { mapActions, mapGetters } from 'vuex'\n  import {\n    passwordLength,\n    latinPassword,\n    passwordNumber,\n    persianPassword,\n    correctPassword,\n    email\n  } from '@/utils/patterns'\n  export default {\n    data() {\n      const getPasswordForm = () => {\n        return {\n          password: '',\n          confirm_password: ''\n        }\n      }\n      const getEmailForm = () => {\n        return {\n          email: ''\n        }\n      }\n      const checkPassword = (rule, value, callback) => {\n        this.resetPasswordValidation()\n        if (value === '') {\n          callback(new Error(this.$i18n.t('insert_your_password')))\n        } else if (\n          !correctPassword.test(value) ||\n          persianPassword.test(value)\n        ) {\n          if (passwordLength.test(value)) {\n            this.passLength = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (latinPassword.test(value)) {\n            this.latinPass = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (passwordNumber.test(value)) {\n            this.passNumber = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (!persianPassword.test(value) && value.length) {\n            this.persianPass = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n        } else {\n          this.setPasswordValidation()\n          callback()\n        }\n      }\n      const checkConfirmPassword = (rule, value, callback) => {\n        if (value === '') {\n          callback(\n            new Error(this.$i18n.t('please_insert_password_confirmation'))\n          )\n        } else if (value !== this.passwordForm.password) {\n          callback(new Error(this.$i18n.t('passwords_do_not_match')))\n        } else {\n          callback()\n        }\n      }\n      const checkEmail = (rule, value, callback) => {\n        if (!value.length) {\n          callback(new Error(this.$i18n.t('insert_your_email')))\n        } else if (!email.test(value)) {\n          callback(new Error(this.$i18n.t('insert_valid_email')))\n        } else {\n          callback()\n        }\n      }\n\n      return {\n        loading: false,\n        rules: {\n          email: [\n            {\n              validator: checkEmail,\n              trigger: 'blur'\n            }\n          ]\n        },\n        passwordRules: {\n          password: [\n            {\n              validator: checkPassword,\n              required: true\n            }\n          ],\n          confirm_password: [\n            {\n              validator: checkConfirmPassword,\n              required: true,\n              trigger: 'blur'\n            }\n          ]\n        },\n        activeStep: 0,\n        forms: ['emailForm', 'passwordForm'],\n        callbacks: [this.handleEmail, this.handlePassword],\n        passwordForm: getPasswordForm(),\n        emailForm: getEmailForm(),\n        isShow: false,\n        passLength: false,\n        latinPass: false,\n        passNumber: false,\n        persianPass: false,\n        isEmailExists: false\n      }\n    },\n    computed: {\n      ...mapGetters(['user']),\n      currentForm() {\n        return this.forms[this.activeStep]\n      },\n      currentCallback() {\n        return this.callbacks[this.activeStep]\n      }\n    },\n    methods: {\n      ...mapActions(['handleRequest']),\n      disableLoading() {\n        this.loading = false\n      },\n      resetPasswordValidation() {\n        this.passLength = false\n        this.latinPass = false\n        this.passNumber = false\n        this.persianPass = false\n      },\n      setPasswordValidation() {\n        this.passLength = true\n        this.latinPass = true\n        this.passNumber = true\n        this.persianPass = true\n      },\n      handleChangePasswordFormSubmit() {\n        let { currentForm, currentCallback } = this\n        this.$refs[currentForm].validate((valid) => {\n          if (valid) {\n            if (this.activeStep === 1) {\n              this.resetPasswordValidation()\n            }\n            this.loading = true\n            currentCallback()\n          } else {\n            return false\n          }\n        })\n      },\n      handleEmail() {\n        let formData = new FormData()\n        formData.append('email', this.emailForm.email)\n        this.handleRequest({\n          name: 'users/found_user',\n          action: 'create',\n          data: formData\n        })\n          .then(() => {\n            this.disableLoading()\n            this.activeStep = 1\n          })\n          .catch((error) => {\n            this.disableLoading()\n            this.showError(error)\n          })\n      },\n      handlePassword() {\n        this.handleRequest({\n          name: 'users/forgot_password',\n          action: 'patchUser',\n          data: {\n            toPatch: {\n              email: this.emailForm.email,\n              password: this.passwordForm.password\n            }\n          }\n        })\n          .then((res) => {\n            this.disableLoading()\n            this.setTokens(res.token)\n            this.$router.push({ path: `/home` })\n          })\n          .catch((error) => {\n            this.disableLoading()\n            this.showError(error)\n          })\n      },\n      changeRoute(name) {\n        this.$router.push({ name })\n      },\n      goToStepOne() {\n        this.activeStep = 0\n        this.$refs['passwordForm'].resetFields()\n        this.$refs['emailForm'].resetFields()\n      },\n      showError(error) {\n        this.$message({\n          type: 'error',\n          message: this.$i18n.t(error.response.data.errors),\n          customClass: 'bg-error-dark'\n        })\n      }\n    }\n  }\n</script>\n"]}]}