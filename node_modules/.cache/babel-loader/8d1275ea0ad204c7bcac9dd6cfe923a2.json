{"remainingRequest":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js!/home/elaheh/Documents/University/project/node_modules/eslint-loader/index.js??ref--13-0!/home/elaheh/Documents/University/project/src/api/api-class.js","dependencies":[{"path":"/home/elaheh/Documents/University/project/src/api/api-class.js","mtime":1625827010037},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/project/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9lbGFoZWgvRG9jdW1lbnRzL1VuaXZlcnNpdHkvcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2VsYWhlaC9Eb2N1bWVudHMvVW5pdmVyc2l0eS9wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8gSW1wb3J0cwppbXBvcnQgX2F4aW9zIGZyb20gJ0AvYXBpL2F4aW9zJzsKaW1wb3J0IGJpZ251bSBmcm9tICdqc29uLWJpZ251bSc7Cgp2YXIgQVBJID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBBUEkoX3JlZikgewogICAgdmFyIHVybCA9IF9yZWYudXJsOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBUEkpOwoKICAgIHRoaXMudXJsID0gdXJsOwogICAgdGhpcy5lbmRwb2ludHMgPSB7fTsKICB9CgogIF9jcmVhdGVDbGFzcyhBUEksIFt7CiAgICBrZXk6ICJoYW5kbGVTdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlcykgewogICAgICBpZiAocmVzKSB7CiAgICAgICAgdmFyIHN0YXR1cyA9IHJlcy5zdGF0dXM7CgogICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCB8fCBzdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgdmFyIHJlc3BvbnNlVGV4dCA9IHJlcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dDsKCiAgICAgICAgICBpZiAocmVzcG9uc2VUZXh0KSB7CiAgICAgICAgICAgIHJldHVybiBiaWdudW0ucGFyc2UocmVzcG9uc2VUZXh0KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3RhdHVzID09PSAyMDQpIHsKICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVFbnRpdHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUVudGl0eShlbnRpdHkpIHsKICAgICAgdGhpcy5lbmRwb2ludHNbZW50aXR5Lm5hbWVdID0gdGhpcy5jcmVhdGVCYXNpY0NSVURFbmRwb2ludHMoZW50aXR5KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVFbnRpdGllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRW50aXRpZXMoYXJyYXlPZkVudGl0eSkgewogICAgICBhcnJheU9mRW50aXR5LmZvckVhY2godGhpcy5jcmVhdGVFbnRpdHkuYmluZCh0aGlzKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlQmFzaWNDUlVERW5kcG9pbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCYXNpY0NSVURFbmRwb2ludHMoX3JlZjIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBuYW1lID0gX3JlZjIubmFtZTsKICAgICAgdmFyIGVuZHBvaW50cyA9IHt9OwogICAgICB2YXIgcmVzb3VyY2VVUkwgPSAiIi5jb25jYXQodGhpcy51cmwsICIvIikuY29uY2F0KG5hbWUpOwoKICAgICAgZW5kcG9pbnRzLmdldEFsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LAogICAgICAgICAgICBxdWVyeSA9IF9yZWYzLnF1ZXJ5OwoKICAgICAgICByZXR1cm4gX2F4aW9zLmdldChyZXNvdXJjZVVSTCwgewogICAgICAgICAgcGFyYW1zOiBxdWVyeQogICAgICAgIH0pLnRoZW4oX3RoaXMuaGFuZGxlU3VjY2Vzcyk7CiAgICAgIH07CgogICAgICBlbmRwb2ludHMuZ2V0T25lID0gZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgdmFyIGlkID0gX3JlZjQuaWQ7CiAgICAgICAgcmV0dXJuIF9heGlvcy5nZXQoIiIuY29uY2F0KHJlc291cmNlVVJMKS5jb25jYXQoaWQgPyAiLyIuY29uY2F0KGlkLCAiLyIpIDogJycpKS50aGVuKF90aGlzLmhhbmRsZVN1Y2Nlc3MpOwogICAgICB9OwoKICAgICAgZW5kcG9pbnRzLmNyZWF0ZSA9IGZ1bmN0aW9uICh0b0NyZWF0ZSkgewogICAgICAgIHJldHVybiBfYXhpb3MucG9zdChyZXNvdXJjZVVSTCwgdG9DcmVhdGUpLnRoZW4oX3RoaXMuaGFuZGxlU3VjY2Vzcyk7CiAgICAgIH07CgogICAgICBlbmRwb2ludHMudXAgPSBmdW5jdGlvbiAodG9VcGRhdGUpIHsKICAgICAgICByZXR1cm4gX2F4aW9zLnB1dChyZXNvdXJjZVVSTCwgdG9VcGRhdGUpLnRoZW4oX3RoaXMuaGFuZGxlU3VjY2Vzcyk7CiAgICAgIH07CgogICAgICBlbmRwb2ludHMudXBkYXRlID0gZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgdmFyIGlkID0gX3JlZjUuaWQsCiAgICAgICAgICAgIHRvVXBkYXRlID0gX3JlZjUudG9VcGRhdGU7CiAgICAgICAgcmV0dXJuIF9heGlvcy5wdXQoIiIuY29uY2F0KHJlc291cmNlVVJMKS5jb25jYXQoaWQgPyAiLyIuY29uY2F0KGlkKSA6ICcnKSwgdG9VcGRhdGUpLnRoZW4oX3RoaXMuaGFuZGxlU3VjY2Vzcyk7CiAgICAgIH07CgogICAgICBlbmRwb2ludHMucGF0Y2ggPSBmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICB2YXIgaWQgPSBfcmVmNi5pZCwKICAgICAgICAgICAgdG9QYXRjaCA9IF9yZWY2LnRvUGF0Y2g7CiAgICAgICAgcmV0dXJuIF9heGlvcy5wYXRjaCgiIi5jb25jYXQocmVzb3VyY2VVUkwpLmNvbmNhdChpZCA/ICIvIi5jb25jYXQoaWQpIDogJycpLCB0b1BhdGNoKS50aGVuKF90aGlzLmhhbmRsZVN1Y2Nlc3MpOwogICAgICB9OwoKICAgICAgZW5kcG9pbnRzLnBhdGNoVXNlciA9IGZ1bmN0aW9uIChfcmVmNykgewogICAgICAgIHZhciB0b1BhdGNoID0gX3JlZjcudG9QYXRjaDsKICAgICAgICByZXR1cm4gX2F4aW9zLnBhdGNoKCIiLmNvbmNhdChyZXNvdXJjZVVSTCksIHRvUGF0Y2gpLnRoZW4oX3RoaXMuaGFuZGxlU3VjY2Vzcyk7CiAgICAgIH07CgogICAgICBlbmRwb2ludHMuZGVsZXRlID0gZnVuY3Rpb24gKF9yZWY4KSB7CiAgICAgICAgdmFyIGlkID0gX3JlZjguaWQ7CiAgICAgICAgcmV0dXJuIF9heGlvcy5kZWxldGUoIiIuY29uY2F0KHJlc291cmNlVVJMKS5jb25jYXQoaWQgPyAiLyIuY29uY2F0KGlkKSA6ICcnKSkudGhlbihfdGhpcy5oYW5kbGVTdWNjZXNzKTsKICAgICAgfTsKCiAgICAgIHJldHVybiBlbmRwb2ludHM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQVBJOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBBUEk7"},{"version":3,"sources":["/home/elaheh/Documents/University/project/src/api/api-class.js"],"names":["_axios","bignum","API","url","endpoints","res","status","responseText","request","parse","data","entity","name","createBasicCRUDEndpoints","arrayOfEntity","forEach","createEntity","bind","resourceURL","getAll","query","get","params","then","handleSuccess","getOne","id","create","toCreate","post","up","toUpdate","put","update","patch","toPatch","patchUser","delete"],"mappings":"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","sourcesContent":["// Imports\nimport _axios from '@/api/axios'\nimport bignum from 'json-bignum'\nclass API {\n  constructor({ url }) {\n    this.url = url\n    this.endpoints = {}\n  }\n\n  handleSuccess(res) {\n    if (res) {\n      const { status } = res\n      if (status === 200 || status === 201) {\n        const responseText = res.request.responseText\n        if (responseText) {\n          return bignum.parse(responseText)\n        }\n        return res.data\n      }\n      if (status === 204) {\n        return res\n      }\n    }\n    return null\n  }\n\n  createEntity(entity) {\n    this.endpoints[entity.name] = this.createBasicCRUDEndpoints(entity)\n  }\n\n  createEntities(arrayOfEntity) {\n    arrayOfEntity.forEach(this.createEntity.bind(this))\n  }\n\n  createBasicCRUDEndpoints({ name }) {\n    const endpoints = {}\n    const resourceURL = `${this.url}/${name}`\n    endpoints.getAll = ({ query } = {}) =>\n      _axios.get(resourceURL, { params: query }).then(this.handleSuccess)\n    endpoints.getOne = ({ id }) =>\n      _axios\n        .get(`${resourceURL}${id ? `/${id}/` : ''}`)\n        .then(this.handleSuccess)\n    endpoints.create = (toCreate) =>\n      _axios.post(resourceURL, toCreate).then(this.handleSuccess)\n    endpoints.up = (toUpdate) =>\n      _axios.put(resourceURL, toUpdate).then(this.handleSuccess)\n    endpoints.update = ({ id, toUpdate }) =>\n      _axios\n        .put(`${resourceURL}${id ? `/${id}` : ''}`, toUpdate)\n        .then(this.handleSuccess)\n    endpoints.patch = ({ id, toPatch }) =>\n      _axios\n        .patch(`${resourceURL}${id ? `/${id}` : ''}`, toPatch)\n        .then(this.handleSuccess)\n    endpoints.patchUser = ({ toPatch }) =>\n      _axios.patch(`${resourceURL}`, toPatch).then(this.handleSuccess)\n    endpoints.delete = ({ id }) =>\n      _axios\n        .delete(`${resourceURL}${id ? `/${id}` : ''}`)\n        .then(this.handleSuccess)\n    return endpoints\n  }\n}\n\nexport default API\n"]}]}