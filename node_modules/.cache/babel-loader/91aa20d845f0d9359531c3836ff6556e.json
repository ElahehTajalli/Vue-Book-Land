{"remainingRequest":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js!/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/project/src/components/TopNav.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/project/src/components/TopNav.vue","mtime":1625857228466},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvZWxhaGVoL0RvY3VtZW50cy9Vbml2ZXJzaXR5L3Byb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3aW5kb3dXaWR0aDogd2luZG93LmlubmVyV2lkdGgsCiAgICAgIG5hbWU6ICcnLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgc2VhcmNoOiBbXSwKICAgICAgYm9va3M6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnaXNBdXRoZW50aWNhdGVkJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydoYW5kbGVSZXF1ZXN0JywgJ3NldEZ1bGxzY3JlZW4nLCAnc2V0U2VsZiddKSksIHt9LCB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAndXNlcnMvc2VsZicsCiAgICAgICAgYWN0aW9uOiAnZ2V0QWxsJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5zZXRTZWxmKHJlcy5kYXRhKTsKCiAgICAgICAgX3RoaXMubmFtZSA9IHJlcy5kYXRhLmZpcnN0X25hbWUgKyAnICcgKyByZXMuZGF0YS5sYXN0X25hbWU7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsvLyBpZiAoCiAgICAgICAgLy8gICB0aGlzLiRyb3V0ZS5uYW1lICE9PSAnRGFzaGJvYXJkJyAmJgogICAgICAgIC8vICAgdGhpcy4kcm91dGUubmFtZSAhPT0gJ0FkdmVydGlzZW1lbnRzJyAmJgogICAgICAgIC8vICAgdGhpcy4kcm91dGUubmFtZSAhPT0gJ1ZpZXcnCiAgICAgICAgLy8gKSB7CiAgICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgLy8gICAgIG5hbWU6ICdEYXNoYm9hcmQnLAogICAgICAgIC8vICAgICBwYXJhbXM6IHsgc2hvd0FsZXJ0OiBmYWxzZSB9CiAgICAgICAgLy8gICB9KQogICAgICAgIC8vIH0KICAgICAgICAvLyB0aGlzLmxvZ291dCgpCiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNldEZ1bGxzY3JlZW4oZmFsc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRXaWR0aE9uUmVzaXplOiBmdW5jdGlvbiBnZXRXaWR0aE9uUmVzaXplKCkgewogICAgICB0aGlzLndpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICB9LAogICAgcmVtb3RlTWV0aG9kOiBmdW5jdGlvbiByZW1vdGVNZXRob2QocXVlcnkpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAocXVlcnkgIT09ICcnKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIub3B0aW9ucyA9IF90aGlzMi5ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnkudG9Mb3dlckNhc2UoKSkgPiAtMTsKICAgICAgICAgIH0pOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgIH0KICAgIH0sCiAgICBnZXRCb29rczogZnVuY3Rpb24gZ2V0Qm9va3MoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KHsKICAgICAgICBuYW1lOiAnYm9va3MvZ2V0JywKICAgICAgICBhY3Rpb246ICdnZXRBbGwnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHNvcnQ6ICdjcmVhdGVkX2F0OmRlc2MnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuYm9va3MgPSByZXMuZGF0YS5ib29rczsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgdGhpcy5nZXRCb29rcygpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZ2V0V2lkdGhPblJlc2l6ZSk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmdldFdpZHRoT25SZXNpemUpOwogIH0KfTs="},{"version":3,"sources":["TopNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,MAAA,CAAA,UADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,iBAAA,CAAA,CADA,CAXA;AAcA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,eAAA,EAAA,eAAA,EAAA,SAAA,CAAA,CADA;AAEA,IAAA,OAFA,qBAEA;AAAA;;AACA,WAAA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,YADA;AAEA,QAAA,MAAA,EAAA;AAFA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,UAAA,GAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,OAPA,EAQA,KARA,CAQA,YAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OApBA,EAqBA,OArBA,CAqBA,YAAA;AACA,QAAA,KAAA,CAAA,aAAA,CAAA,KAAA;AACA,OAvBA;AAwBA,KA3BA;AA4BA,IAAA,gBA5BA,8BA4BA;AACA,WAAA,WAAA,GAAA,MAAA,CAAA,UAAA;AACA,KA9BA;AA+BA,IAAA,YA/BA,wBA+BA,KA/BA,EA+BA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,IAAA,CAAA,WAAA,GAAA,OAAA,CAAA,KAAA,CAAA,WAAA,EAAA,IAAA,CAAA,CAAA;AACA,WAFA,CAAA;AAGA,SALA,EAKA,GALA,CAAA;AAMA,OARA,MAQA;AACA,aAAA,OAAA,GAAA,EAAA;AACA;AACA,KA3CA;AA4CA,IAAA,QA5CA,sBA4CA;AAAA;;AACA,WAAA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,WADA;AAEA,QAAA,MAAA,EAAA,QAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AADA;AAHA,OAAA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAVA;AAWA;AAxDA,IAdA;AAwEA,EAAA,OAxEA,qBAwEA;AACA,SAAA,OAAA;AACA,SAAA,QAAA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA;AACA,GA5EA;AA6EA,EAAA,SA7EA,uBA6EA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,gBAAA;AACA;AA/EA,CAAA","sourcesContent":["<template>\n  <div class=\"topnav\">\n    <div class=\"flexbox align-center justify-center\">\n      <b>\n        {{ $t('book_land') }}\n      </b>\n      <el-select\n        v-model=\"search\"\n        filterable\n        remote\n        reserve-keyword\n        :placeholder=\"$t('search_book')\"\n        :remote-method=\"remoteMethod\"\n        :loading=\"loading\"\n      >\n        <el-option\n          v-for=\"item in options\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :value=\"item.id\"\n        >\n          <span>{{ item.name }}</span>\n          <span style=\"display:block\">{{ item.author.name }}</span>\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"flexbox align-center justify-center\" v-if=\"!isAuthenticated\">\n      <el-button\n        type=\"text\"\n        class=\"signup\"\n        @click=\"$router.push({ name: 'SignUp' })\"\n      >\n        {{ $t('signup') }}\n      </el-button>\n      <el-button class=\"login mr-10\" @click=\"$router.push({ name: 'Login' })\">\n        {{ $t('login') }}\n      </el-button>\n    </div>\n    <div class=\"flexbox align-center justify-center\" v-if=\"isAuthenticated\">\n      <span class=\"email ml-10\">\n        {{ name }}\n      </span>\n      <el-button class=\"login mr-10\" @click=\"logout\">\n        {{ $t('logout') }}\n      </el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapGetters, mapActions } from 'vuex'\n  export default {\n    data() {\n      return {\n        windowWidth: window.innerWidth,\n        name: '',\n        options: [],\n        search: [],\n        books: [],\n        loading: false\n      }\n    },\n    computed: {\n      ...mapGetters(['isAuthenticated'])\n    },\n    methods: {\n      ...mapActions(['handleRequest', 'setFullscreen', 'setSelf']),\n      getData() {\n        this.handleRequest({\n          name: 'users/self',\n          action: 'getAll'\n        })\n          .then((res) => {\n            this.setSelf(res.data)\n            this.name = res.data.first_name + ' ' + res.data.last_name\n          })\n          .catch(() => {\n            // if (\n            //   this.$route.name !== 'Dashboard' &&\n            //   this.$route.name !== 'Advertisements' &&\n            //   this.$route.name !== 'View'\n            // ) {\n            //   this.$router.push({\n            //     name: 'Dashboard',\n            //     params: { showAlert: false }\n            //   })\n            // }\n            // this.logout()\n          })\n          .finally(() => {\n            this.setFullscreen(false)\n          })\n      },\n      getWidthOnResize() {\n        this.windowWidth = window.innerWidth\n      },\n      remoteMethod(query) {\n        if (query !== '') {\n          this.loading = true\n          setTimeout(() => {\n            this.loading = false\n            this.options = this.books.filter((item) => {\n              return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1\n            })\n          }, 200)\n        } else {\n          this.options = []\n        }\n      },\n      getBooks() {\n        this.handleRequest({\n          name: 'books/get',\n          action: 'getAll',\n          data: {\n            query: {\n              sort: 'created_at:desc'\n            }\n          }\n        }).then((res) => {\n          this.books = res.data.books\n        })\n      }\n    },\n    created() {\n      this.getData()\n      this.getBooks()\n      window.addEventListener('resize', this.getWidthOnResize)\n    },\n    destroyed() {\n      window.removeEventListener('resize', this.getWidthOnResize)\n    }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}