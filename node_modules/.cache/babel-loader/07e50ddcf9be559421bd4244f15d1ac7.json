{"remainingRequest":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/thread-loader/dist/cjs.js!/home/elaheh/Documents/University/Vue-Book-Land/node_modules/babel-loader/lib/index.js!/home/elaheh/Documents/University/Vue-Book-Land/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/elaheh/Documents/University/Vue-Book-Land/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/Vue-Book-Land/src/components/post/View.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/Vue-Book-Land/src/components/post/View.vue","mtime":1630222369431},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/Vue-Book-Land/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvZWxhaGVoL0RvY3VtZW50cy9Vbml2ZXJzaXR5L1Z1ZS1Cb29rLUxhbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZWxhaGVoL0RvY3VtZW50cy9Vbml2ZXJzaXR5L1Z1ZS1Cb29rLUxhbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LWphbGFhbGknOwppbXBvcnQgQ29tbWVudCBmcm9tICdAL2NvbXBvbmVudHMvY29tbWVudC9Db21tZW50JzsgLy8gaW1wb3J0IENyaXRpY2lzbSBmcm9tICdAL2NvbXBvbmVudHMvcG9zdC9Dcml0aWNpc20nCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IHt9LAogICAgICBwb3N0OiB7fSwKICAgICAgY29tbWVudHM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICAgIGphbGFsaUZvcm1hdDogJ2pZWVlZL2pNL2pEJywKICAgICAgbmV3X3Bvc3Q6ICcnLAogICAgICBmb3JtOiB7CiAgICAgICAgY29tbWVudF90ZXh0OiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGNvbW1lbnRfdGV4dDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kaTE4bi50KCdmaWVsZF9yZXF1aXJlZCcpLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UG9zdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRDb21tZW50cygpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3NlbGYnXSkpLCB7fSwgewogICAgZGF0ZVRpbWU6IGZ1bmN0aW9uIGRhdGVUaW1lKCkgewogICAgICByZXR1cm4gbW9tZW50KHRoaXMucG9zdC5jcmVhdGVkX2F0KS5mb3JtYXQodGhpcy5qYWxhbGlGb3JtYXQpOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ2hhbmRsZVJlcXVlc3QnXSkpLCB7fSwgewogICAgZ2V0UG9zdDogZnVuY3Rpb24gZ2V0UG9zdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICdwb3N0cycsCiAgICAgICAgYWN0aW9uOiAnZ2V0T25lJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIucG9zdCA9IHJlcy5kYXRhLnBvc3Q7CiAgICAgICAgX3RoaXMyLm5ld19wb3N0ID0gX3RoaXMyLnBvc3Q7CiAgICAgICAgX3RoaXMyLmJvb2sgPSByZXMuZGF0YS5wb3N0LmJvb2s7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENvbW1lbnRzOiBmdW5jdGlvbiBnZXRDb21tZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICdjb21tZW50cy8nLAogICAgICAgIGFjdGlvbjogJ2dldEFsbCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgcG9zdF9pZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuY29tbWVudHMgPSByZXMuZGF0YS5jb21tZW50czsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdFBvc3Q6IGZ1bmN0aW9uIGVkaXRQb3N0KGFjdGlvbikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdCh7CiAgICAgICAgbmFtZTogJ3Bvc3RzL2VkaXQnLAogICAgICAgIGFjdGlvbjogJ3BhdGNoJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB0b1BhdGNoOiB7CiAgICAgICAgICAgIHVzZXI6IHRoaXMuc2VsZi5pZCwKICAgICAgICAgICAgcG9zdDogK3RoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5uZXdfcG9zdCA9IHJlcy5kYXRhLnBvc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcl9pZCcsIHRoaXMuc2VsZi5pZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncG9zdF9pZCcsIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGV4dCcsIHRoaXMuZm9ybS5jb21tZW50X3RleHQpOwogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICdjb21tZW50cy8nLAogICAgICAgIGFjdGlvbjogJ2NyZWF0ZScsCiAgICAgICAgZGF0YTogZm9ybURhdGEKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6IF90aGlzNS4kaTE4bi50KCd0aGVfY29tbWVudF93YXNfc3VjY2Vzc2Z1bGx5X2FkZGVkJykKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM1LmdldENvbW1lbnRzKCk7CgogICAgICAgIF90aGlzNS5mb3JtLmNvbW1lbnRfdGV4dCA9ICcnOwogICAgICAgIF90aGlzNS5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuc3VibWl0TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6IF90aGlzNS4kaTE4bi50KCd5b3VyX3JlcXVlc3RfaGFzX2VuY291bnRlcmVkX2FfcHJvYmxlbV9wbGVhc2VfdHJ5X2FnYWluJykKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1VzZXI6IGZ1bmN0aW9uIHNob3dVc2VyKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnVmlld1VzZXInLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KSwKICBjb21wb25lbnRzOiB7CiAgICBDb21tZW50OiBDb21tZW50IC8vIENyaXRpY2lzbQoKICB9Cn07"},{"version":3,"sources":["View.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"view-post\" v-loading.fullscreen.lock=\"loading\">\n    <el-card v-if=\"!loading\" class=\"book-info\">\n      <div>\n        <img\n          v-if=\"book.image\"\n          :src=\"'http://ketabland.pythonanywhere.com' + book.image\"\n        />\n        <img v-else src=\"../../assets/images/noBook.png\" />\n      </div>\n      <div class=\"book-information\">\n        <div>\n          <span class=\"name\"> {{ book.name }} </span>\n          <span v-if=\"book.author\">\n            {{ $t('book.author') }}: {{ book.author.name }}\n          </span>\n          <span v-if=\"book.translator\">\n            {{ $t('book.translator') }}: {{ book.translator.name }}\n          </span>\n          <span> {{ $t('book.publisher') }}: {{ book.publisher }} </span>\n          <span> {{ $t('book.genre') }}: {{ book.genre }} </span>\n          <span>\n            {{ $t('book.publication_year') }}: {{ book.publication_year }}\n          </span>\n        </div>\n      </div>\n    </el-card>\n    <!-- <div class=\"post-summary\">\n      <el-card v-if=\"book.summary\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{ $t('book.summary') }}</span>\n        </div>\n        <span class=\"summary\"> {{ book.summary }} </span>\n      </el-card>\n      <el-card class=\"post\" v-if=\"posts.length\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{ $t('criticisms') }}</span>\n        </div>\n        <Criticism v-for=\"p in posts\" :key=\"p.id\" :post=\"p\" />\n      </el-card>\n    </div> -->\n    <div\n      class=\"full-width flexbox column-direction align-center\"\n      style=\"flex: 1 1 0%;\"\n    >\n      <el-card class=\"post\" v-if=\"!loading && post\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{ $t('criticism') }}</span>\n        </div>\n        <div class=\"criticism\">\n          <div class=\"top\">\n            <div class=\"detail\">\n              <img\n                class=\"image\"\n                src=\"https://img.icons8.com/cotton/64/000000/person-male--v2.png\"\n              />\n              <span v-if=\"post.critic\" @click=\"showUser(post.critic.id)\">\n                {{ post.critic.persian_username }}\n              </span>\n            </div>\n          </div>\n          <span class=\"text\">{{ post.text }}</span>\n          <div class=\"bottom\">\n            <div class=\"date\">\n              <img src=\"https://img.icons8.com/ios/100/184277/planner.png\" />\n              <span>{{ dateTime }}</span>\n            </div>\n            <div class=\"likes\">\n              <div @click=\"editPost('dislike')\" v-if=\"post.dislikes\">\n                <span> {{ new_post.dislikes.length }} </span>\n                <img\n                  src=\"https://img.icons8.com/material-rounded/24/ff0000/thumbs-down.png\"\n                />\n              </div>\n              <div @click=\"editPost('like')\" v-if=\"post.likes\">\n                <span> {{ new_post.likes.length }} </span>\n                <img\n                  src=\"https://img.icons8.com/material-rounded/24/00ff30/facebook-like--v1.png\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </el-card>\n      <div class=\"comments-div\" v-if=\"!loading\">\n        <el-card v-if=\"comments.length\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>{{ $t('comments') }}</span>\n          </div>\n          <Comment v-for=\"cm in comments\" :key=\"cm.id\" :comment=\"cm\" />\n        </el-card>\n        <el-card>\n          <div slot=\"header\" class=\"clearfix\">\n            <span>{{ $t('add_comment') }}</span>\n          </div>\n          <el-form :model=\"form\" ref=\"form\" :rules=\"rules\">\n            <el-form-item :label=\"$t('text')\" prop=\"comment_text\">\n              <el-input\n                type=\"textarea\"\n                class=\"rtl\"\n                resize=\"none\"\n                v-model=\"form.comment_text\"\n              ></el-input>\n            </el-form-item>\n            <el-button\n              :loading=\"submitLoading\"\n              type=\"primary\"\n              @click=\"validateAndSubmitForm('form', addComment)\"\n            >\n              {{ $t('submit') }}\n            </el-button>\n          </el-form>\n        </el-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapActions, mapGetters } from 'vuex'\n  import moment from 'moment-jalaali'\n  import Comment from '@/components/comment/Comment'\n  // import Criticism from '@/components/post/Criticism'\n  export default {\n    data() {\n      return {\n        book: {},\n        post: {},\n        comments: [],\n        loading: false,\n        submitLoading: false,\n        jalaliFormat: 'jYYYY/jM/jD',\n        new_post: '',\n        form: {\n          comment_text: ''\n        },\n        rules: {\n          comment_text: [\n            {\n              required: true,\n              message: this.$i18n.t('field_required'),\n              trigger: 'blur'\n            }\n          ]\n        }\n      }\n    },\n    async created() {\n      await this.getPost()\n      await this.getComments()\n    },\n    computed: {\n      ...mapGetters(['self']),\n      dateTime() {\n        return moment(this.post.created_at).format(this.jalaliFormat)\n      }\n    },\n    methods: {\n      ...mapActions(['handleRequest']),\n      getPost() {\n        this.loading = true\n        this.handleRequest({\n          name: 'posts',\n          action: 'getOne',\n          data: {\n            id: this.$route.params.id\n          }\n        }).then((res) => {\n          this.post = res.data.post\n          this.new_post = this.post\n          this.book = res.data.post.book\n        })\n      },\n      getComments() {\n        this.handleRequest({\n          name: 'comments/',\n          action: 'getAll',\n          data: {\n            query: {\n              post_id: this.$route.params.id\n            }\n          }\n        })\n          .then((res) => {\n            this.comments = res.data.comments\n          })\n          .finally(() => {\n            this.loading = false\n          })\n      },\n      editPost(action) {\n        this.handleRequest({\n          name: 'posts/edit',\n          action: 'patch',\n          data: {\n            toPatch: {\n              user: this.self.id,\n              post: +this.$route.params.id,\n              action\n            }\n          }\n        }).then((res) => {\n          this.new_post = res.data.post\n        })\n      },\n      addComment() {\n        this.submitLoading = true\n        let formData = new FormData()\n        formData.append('user_id', this.self.id)\n        formData.append('post_id', this.$route.params.id)\n        formData.append('text', this.form.comment_text)\n\n        this.handleRequest({\n          name: 'comments/',\n          action: 'create',\n          data: formData\n        })\n          .then(() => {\n            this.$message({\n              type: 'success',\n              message: this.$i18n.t('the_comment_was_successfully_added')\n            })\n            this.getComments()\n            this.form.comment_text = ''\n            this.submitLoading = false\n          })\n          .catch(() => {\n            this.submitLoading = false\n            this.$message({\n              type: 'error',\n              message: this.$i18n.t(\n                'your_request_has_encountered_a_problem_please_try_again'\n              )\n            })\n          })\n      },\n      showUser(id) {\n        this.$router.push({ name: 'ViewUser', params: { id } })\n      }\n    },\n    components: {\n      Comment\n      // Criticism\n    }\n  }\n</script>\n"],"sourceRoot":"src/components/post"}]}