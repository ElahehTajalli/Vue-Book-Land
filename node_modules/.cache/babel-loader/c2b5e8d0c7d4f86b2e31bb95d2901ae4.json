{"remainingRequest":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js!/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/elaheh/Documents/University/project/src/components/EditPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/elaheh/Documents/University/project/src/components/EditPassword.vue","mtime":1629486873370},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/elaheh/Documents/University/project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/elaheh/Documents/University/project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvZWxhaGVoL0RvY3VtZW50cy9Vbml2ZXJzaXR5L3Byb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHBhc3N3b3JkTGVuZ3RoLCBsYXRpblBhc3N3b3JkLCBwYXNzd29yZE51bWJlciwgcGVyc2lhblBhc3N3b3JkLCBjb3JyZWN0UGFzc3dvcmQgfSBmcm9tICdAL3V0aWxzL3BhdHRlcm5zJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBkaWFsb2dWaXNpYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2VsZjogewogICAgICB0eXBlb2Y6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGNoZWNrUGFzc3dvcmQgPSBmdW5jdGlvbiBjaGVja1Bhc3N3b3JkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBfdGhpcy5yZXNldFBhc3N3b3JkVmFsaWRhdGlvbigpOwoKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihfdGhpcy4kaTE4bi50KCdpbnNlcnRfeW91cl9wYXNzd29yZCcpKSk7CiAgICAgIH0gZWxzZSBpZiAoIWNvcnJlY3RQYXNzd29yZC50ZXN0KHZhbHVlKSB8fCBwZXJzaWFuUGFzc3dvcmQudGVzdCh2YWx1ZSkpIHsKICAgICAgICBpZiAocGFzc3dvcmRMZW5ndGgudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIF90aGlzLnBhc3NMZW5ndGggPSB0cnVlOwogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKF90aGlzLiRpMThuLnQoJ3dyb25nX3Bhc3N3b3JkJykpKTsKICAgICAgICB9CgogICAgICAgIGlmIChsYXRpblBhc3N3b3JkLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICBfdGhpcy5sYXRpblBhc3MgPSB0cnVlOwogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKF90aGlzLiRpMThuLnQoJ3dyb25nX3Bhc3N3b3JkJykpKTsKICAgICAgICB9CgogICAgICAgIGlmIChwYXNzd29yZE51bWJlci50ZXN0KHZhbHVlKSkgewogICAgICAgICAgX3RoaXMucGFzc051bWJlciA9IHRydWU7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoX3RoaXMuJGkxOG4udCgnd3JvbmdfcGFzc3dvcmQnKSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFwZXJzaWFuUGFzc3dvcmQudGVzdCh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpcy5wZXJzaWFuUGFzcyA9IHRydWU7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoX3RoaXMuJGkxOG4udCgnd3JvbmdfcGFzc3dvcmQnKSkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygnZWxzZScpOwoKICAgICAgICBfdGhpcy5zZXRQYXNzd29yZFZhbGlkYXRpb24oKTsKCiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLAogICAgICBwYXNzTGVuZ3RoOiBmYWxzZSwKICAgICAgbGF0aW5QYXNzOiBmYWxzZSwKICAgICAgcGFzc051bWJlcjogZmFsc2UsCiAgICAgIHBlcnNpYW5QYXNzOiBmYWxzZSwKICAgICAgaXNTaG93OiBmYWxzZSwKICAgICAgZWRpdEZvcm06IHsKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja1Bhc3N3b3JkCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ2hhbmRsZVJlcXVlc3QnLCAnc2V0U2VsZiddKSksIHt9LCB7CiAgICByZXNldFBhc3N3b3JkVmFsaWRhdGlvbjogZnVuY3Rpb24gcmVzZXRQYXNzd29yZFZhbGlkYXRpb24oKSB7CiAgICAgIHRoaXMucGFzc0xlbmd0aCA9IGZhbHNlOwogICAgICB0aGlzLmxhdGluUGFzcyA9IGZhbHNlOwogICAgICB0aGlzLnBhc3NOdW1iZXIgPSBmYWxzZTsKICAgICAgdGhpcy5wZXJzaWFuUGFzcyA9IGZhbHNlOwogICAgfSwKICAgIHNldFBhc3N3b3JkVmFsaWRhdGlvbjogZnVuY3Rpb24gc2V0UGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLnBhc3NMZW5ndGggPSB0cnVlOwogICAgICB0aGlzLmxhdGluUGFzcyA9IHRydWU7CiAgICAgIHRoaXMucGFzc051bWJlciA9IHRydWU7CiAgICAgIHRoaXMucGVyc2lhblBhc3MgPSB0cnVlOwogICAgfSwKICAgIGVkaXRVc2VyOiBmdW5jdGlvbiBlZGl0VXNlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmhhbmRsZVJlcXVlc3QoewogICAgICAgIG5hbWU6ICd1c2Vycy9mb3Jnb3RfcGFzc3dvcmQnLAogICAgICAgIGFjdGlvbjogJ3BhdGNoVXNlcicsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdG9QYXRjaDogewogICAgICAgICAgICBlbWFpbDogdGhpcy5zZWxmLmVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5lZGl0Rm9ybS5wYXNzd29yZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMi4kaTE4bi50KCd5b3VyX3Bhc3N3b3JkX3dhc19zdWNjZXNzZnVsbHlfZWRpdGVkJykKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLmhhbmRsZUNsb3NlKCk7CgogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgbWVzc2FnZTogX3RoaXMyLiRpMThuLnQoJ3VzZXJfd2l0aF90aGlzX3BlcnNpYW5fdXNlcm5hbWVfYWxyZWFkeV9leGlzdHMnKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMi4kaTE4bi50KCd5b3VyX3JlcXVlc3RfaGFzX2VuY291bnRlcmVkX2FfcHJvYmxlbV9wbGVhc2VfdHJ5X2FnYWluJykKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZS1kaWFsb2cnKTsKICAgICAgdGhpcy4kcmVmc1snZWRpdFVzZXInXS5yZXNldEZpZWxkcygpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["EditPassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      :title=\"$t('edit_password')\"\n      :visible.sync=\"dialogVisible\"\n      :close-on-click-modal=\"false\"\n      :close-on-escape=\"false\"\n      :show-close=\"false\"\n      width=\"40rem\"\n      top=\"7vh\"\n      class=\"small add-book\"\n    >\n      <el-form :model=\"editForm\" ref=\"editUser\" :rules=\"rules\">\n        <el-form-item :label=\"$t('password')\" prop=\"password\">\n          <el-input\n            autocomplete=\"new-password\"\n            @focus=\"isShow = true\"\n            @blur=\"isShow = false\"\n            type=\"password\"\n            v-model=\"editForm.password\"\n          ></el-input>\n          <div v-if=\"isShow\" class=\"password-validation\">\n            <el-checkbox v-model=\"passLength\" disabled>{{\n              $t('eight_characters_or_longer')\n            }}</el-checkbox>\n            <el-checkbox v-model=\"latinPass\" disabled>{{\n              $t('contain_at_least_one_alphabetical_character')\n            }}</el-checkbox>\n            <el-checkbox v-model=\"passNumber\" disabled>{{\n              $t('contain_at_least_one_numeric_character')\n            }}</el-checkbox>\n            <el-checkbox v-model=\"persianPass\" disabled>{{\n              $t('use_english_character_and_numbers')\n            }}</el-checkbox>\n          </div>\n        </el-form-item>\n        <div class=\"text-center\" style=\"paddingTop:1rem\">\n          <el-button\n            :loading=\"loading\"\n            class=\"ml-10\"\n            type=\"primary\"\n            @click=\"validateAndSubmitForm('editUser', editUser)\"\n          >\n            {{ $t('edit') }}\n          </el-button>\n          <el-button @click=\"handleClose\"> {{ $t('close') }} </el-button>\n        </div>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from 'vuex'\n  import {\n    passwordLength,\n    latinPassword,\n    passwordNumber,\n    persianPassword,\n    correctPassword\n  } from '@/utils/patterns'\n  export default {\n    props: {\n      dialogVisible: {\n        type: Boolean,\n        default: false\n      },\n      self: {\n        typeof: Object,\n        default: () => {}\n      }\n    },\n    data() {\n      const checkPassword = (rule, value, callback) => {\n        this.resetPasswordValidation()\n        if (value === '') {\n          callback(new Error(this.$i18n.t('insert_your_password')))\n        } else if (\n          !correctPassword.test(value) ||\n          persianPassword.test(value)\n        ) {\n          if (passwordLength.test(value)) {\n            this.passLength = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (latinPassword.test(value)) {\n            this.latinPass = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (passwordNumber.test(value)) {\n            this.passNumber = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n          if (!persianPassword.test(value) && value.length) {\n            this.persianPass = true\n            callback(new Error(this.$i18n.t('wrong_password')))\n          }\n        } else {\n          console.log('else')\n          this.setPasswordValidation()\n          callback()\n        }\n      }\n      return {\n        loading: false,\n        dialogImageUrl: '',\n        passLength: false,\n        latinPass: false,\n        passNumber: false,\n        persianPass: false,\n        isShow: false,\n        editForm: {\n          password: ''\n        },\n        rules: {\n          password: [\n            {\n              required: true,\n              validator: checkPassword\n            }\n          ]\n        }\n      }\n    },\n    methods: {\n      ...mapActions(['handleRequest', 'setSelf']),\n      resetPasswordValidation() {\n        this.passLength = false\n        this.latinPass = false\n        this.passNumber = false\n        this.persianPass = false\n      },\n      setPasswordValidation() {\n        this.passLength = true\n        this.latinPass = true\n        this.passNumber = true\n        this.persianPass = true\n      },\n      editUser() {\n        this.loading = true\n\n        this.handleRequest({\n          name: 'users/forgot_password',\n          action: 'patchUser',\n          data: {\n            toPatch: {\n              email: this.self.email,\n              password: this.editForm.password\n            }\n          }\n        })\n          .then(() => {\n            this.$message({\n              type: 'success',\n              message: this.$i18n.t('your_password_was_successfully_edited')\n            })\n            this.handleClose()\n            this.loading = false\n          })\n          .catch((error) => {\n            this.loading = false\n            if (error.response.status === 400) {\n              this.$message({\n                type: 'error',\n                message: this.$i18n.t(\n                  'user_with_this_persian_username_already_exists'\n                )\n              })\n            } else {\n              this.$message({\n                type: 'error',\n                message: this.$i18n.t(\n                  'your_request_has_encountered_a_problem_please_try_again'\n                )\n              })\n            }\n          })\n      },\n      handleClose() {\n        this.$emit('close-dialog')\n        this.$refs['editUser'].resetFields()\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}